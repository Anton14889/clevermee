(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{G62R:function(e,r,t){"use strict";t.r(r),t.d(r,"DominoComponent",(function(){return v})),t.d(r,"DominoModule",(function(){return g}));var o=t("ofXK"),n=t("3Pt+"),a=t("fXoL"),i=t("XCOF");const s=["optionsWrapper"];function l(e,r){if(1&e&&(a.Wb(0,"div",9),a.Rb(1,"span",10),a.Vb()),2&e){const e=r.$implicit;a.Cb(1),a.kc("innerHTML",e,a.wc)}}function c(e,r){if(1&e){const e=a.Xb();a.Wb(0,"div",7),a.ec("dragstart",(function(){a.vc(e);const r=a.hc().index;return a.hc().dragValuesStart(r)})),a.Cc(1,l,2,1,"div",8),a.Vb()}if(2&e){const e=a.hc().$implicit;a.Gb("disabled-drag",e.isDefault),a.Cb(1),a.kc("ngForOf",e.valueArray)}}function d(e,r){if(1&e){const e=a.Xb();a.Wb(0,"div",5),a.ec("dragleave",(function(r){return a.vc(e),a.hc().dragleaveValues(r.target)}))("dragover",(function(t){a.vc(e);const o=r.index;return a.hc().dragoverValues(t,o)}))("dragenter",(function(t){a.vc(e);const o=r.index;return a.hc().dragenterValues(t,o)}))("drop",(function(t){a.vc(e);const o=r.index;return a.hc().dropValues(t.target,o)})),a.Cc(1,c,2,3,"div",6),a.Vb()}if(2&e){const e=r.$implicit;a.Gb("incorrect-exercise-answer",null!==e.IsCorrect&&!e.IsCorrect)("correct-exercise-answer",e.IsCorrect)("value__drop-elem",!e.valueArray),a.Cb(1),a.kc("ngIf",e.valueArray)}}function u(e,r){if(1&e&&(a.Wb(0,"div",13),a.Wb(1,"span",10),a.Dc(2),a.Vb(),a.Vb()),2&e){const e=r.$implicit;a.Cb(1),a.kc("innerHTML",e,a.wc),a.Cb(1),a.Ec(e)}}function p(e,r){if(1&e){const e=a.Xb();a.Wb(0,"div",11),a.ec("dragstart",(function(){a.vc(e);const t=r.$implicit;return a.hc().dragstart(t)})),a.Cc(1,u,3,2,"div",12),a.Vb()}if(2&e){const e=r.$implicit;a.Cb(1),a.kc("ngForOf",e.valueArray)}}let v=(()=>{class e{constructor(e){this.exerciseDataService=e}ngOnChanges(){if(this.list.sort((e,r)=>e.Order-r.Order),this.isCorrectValues)return void this.list.forEach(e=>{this.valuesArray.forEach(r=>{this.optionValuesArray.forEach(t=>{e.Order===r.valueOrder&&e.CorrectValue===t.optionOrder+""&&(r.IsCorrect=e.IsCorrect,r.valueArray=t.valueArray)})})});const e=[],r=[];this.list.forEach(t=>{"DefaultValue1"!==t.Metric&&"DefaultValue2"!==t.Metric||e.push(t.Value),"OptionValue1"!==t.Metric&&"OptionValue2"!==t.Metric||r.push(t.Value)});const t=[],o=[];let n=-1,a=0;r.forEach((e,r)=>{if(r%2==0){const r={CorrectValue:null,IsCorrect:null,optionOrder:++a,valueArray:[e]};t.push(r),n++}else t[n].valueArray.push(e)}),o.push({isDefault:!0,CorrectValue:null,IsCorrect:null,optionOrder:null,valueArray:e});let i=t.length,s=2;for(;i>0;)o.push({CorrectValue:null,IsCorrect:null,optionOrder:null,valueOrder:s++,valueArray:null}),i--;this.optionValuesArray=t,this.valuesArray=o}dragValuesStart(e){this.startValuesOrder=this.valuesArray[e].valueOrder,this.startOptionsOrder=this.valuesArray[e].optionOrder,this.startArray=this.valuesArray[e].valueArray,this.startValuesNumber=e}dropValues(e,r){this.startValuesNumber&&(this.valuesArray[this.startValuesNumber].valueArray=null,this.valuesArray[this.startValuesNumber].optionOrder=null),this.valuesArray[r].valueArray=this.startArray,this.valuesArray[r].optionOrder=this.startOptionsOrder,this.startValuesNumber=null,this.startValuesOrder=null,this.valuesArray.forEach(e=>{this.getUserResult(e.valueOrder,e.optionOrder)}),e.classList.remove("drag_active-option")}dragleaveValues(e){e.classList.remove("drag_active-option")}dragoverValues(e,r){this.valuesArray[r].isDefault||this.startValuesOrder===this.valuesArray[r].valueOrder||e.preventDefault()}dragenterValues(e,r){this.valuesArray[r].isDefault||this.startValuesOrder===this.valuesArray[r].valueOrder||(e.preventDefault(),e.target.classList.add("drag_active-option"))}dragstart(e){this.startArray=e.valueArray,this.startOptionsOrder=e.optionOrder}dropOptions(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active"),this.valuesArray[this.startValuesNumber]&&(this.valuesArray[this.startValuesNumber].valueArray=null,this.valuesArray[this.startValuesNumber].optionOrder=null,this.startValuesNumber=null,this.startValuesOrder=null,this.valuesArray.forEach(e=>{this.getUserResult(e.valueOrder,e.optionOrder)}))}dragoverOptions(e){e.preventDefault(),this.optionsWrapper.nativeElement.classList.add("options-wrapper_active")}dragenterOptions(e){e.preventDefault()}dragleaveOptions(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}ngAfterViewInit(){const e=document.querySelectorAll(".domino__option .divider_line-height");Array.from(e).forEach(e=>{e.style.lineHeight="1"})}getUserResult(e,r){this.exerciseDataService.subject.next({Type:"Domino",Order:this.Order,Data:{Order:e,Value:r}})}}return e.\u0275fac=function(r){return new(r||e)(a.Qb(i.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-domino"]],viewQuery:function(e,r){var t;1&e&&a.Hc(s,!0),2&e&&a.rc(t=a.fc())&&(r.optionsWrapper=t.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[a.Ab],decls:5,vars:2,consts:[[1,"domino-values-wrapper","d-flex","align-items-center"],["class","domino-top-value-wrapper secondary-f-size",3,"incorrect-exercise-answer","correct-exercise-answer","value__drop-elem","dragleave","dragover","dragenter","drop",4,"ngFor","ngForOf"],[1,"domino-options-wrapper","d-flex","align-items-center",3,"drop","dragover","dragenter","dragleave"],["optionsWrapper",""],["draggable","true","class","domino-option-wrapper bottom_option secondary-f-size d-flex",3,"dragstart",4,"ngFor","ngForOf"],[1,"domino-top-value-wrapper","secondary-f-size",3,"dragleave","dragover","dragenter","drop"],["class","domino-option-wrapper d-flex","draggable","true",3,"disabled-drag","dragstart",4,"ngIf"],["draggable","true",1,"domino-option-wrapper","d-flex",3,"dragstart"],["class","domino__option value__option d-flex justify-content-center align-content-center text-center",4,"ngFor","ngForOf"],[1,"domino__option","value__option","d-flex","justify-content-center","align-content-center","text-center"],[1,"domino__value","align-self-center","text-center",3,"innerHTML"],["draggable","true",1,"domino-option-wrapper","bottom_option","secondary-f-size","d-flex",3,"dragstart"],["class","domino__option d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"domino__option","d-flex","justify-content-center"]],template:function(e,r){1&e&&(a.Wb(0,"div",0),a.Cc(1,d,2,7,"div",1),a.Vb(),a.Wb(2,"div",2,3),a.ec("drop",(function(){return r.dropOptions()}))("dragover",(function(e){return r.dragoverOptions(e)}))("dragenter",(function(e){return r.dragenterOptions(e)}))("dragleave",(function(){return r.dragleaveOptions()})),a.Cc(4,p,2,1,"div",4),a.Vb()),2&e&&(a.Cb(1),a.kc("ngForOf",r.valuesArray),a.Cb(3),a.kc("ngForOf",r.optionValuesArray))},directives:[o.i,o.j],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.domino-values-wrapper[_ngcontent-%COMP%]{margin-bottom:14vh}.bottom_option[_ngcontent-%COMP%], .domino-option-wrapper[_ngcontent-%COMP%], .domino-top-value-wrapper[_ngcontent-%COMP%], .value__drop-elem[_ngcontent-%COMP%]:before{border-radius:.5em}.domino-option-wrapper[_ngcontent-%COMP%], .domino__option[_ngcontent-%COMP%]:first-child{border-width:2px!important}.domino-option-wrapper[_ngcontent-%COMP%]{border:solid #a64ac9;min-width:13vw;min-height:4em;cursor:-webkit-grab;cursor:grab}.domino-top-value-wrapper[_ngcontent-%COMP%]{transform:scale(.85)}.domino-top-value-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-right:-1vw}.bottom_option[_ngcontent-%COMP%]:not(:last-child){margin-right:2vw}.correct-exercise-answer[_ngcontent-%COMP%]   .domino__option[_ngcontent-%COMP%], .incorrect-exercise-answer[_ngcontent-%COMP%]   .domino__option[_ngcontent-%COMP%]{background:none}.domino__option[_ngcontent-%COMP%]{width:100%;padding:1vh;line-height:1;background:#fff;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.domino__option[_ngcontent-%COMP%]:first-child{border-right:solid #a64ac9;position:relative;border-radius:.5em 0 0 .5em}.domino__option[_ngcontent-%COMP%]:last-child{border-radius:0 .5em .5em 0}.domino__option[_ngcontent-%COMP%]:first-child:before{content:"";display:block;background:#a64ac9;width:.8vw;height:.8vw;border-radius:50%;z-index:2;position:absolute;right:0;top:calc(50% - .4vw);transform:translateX(.45vw)}.value__option[_ngcontent-%COMP%]{pointer-events:none}.value__drop-elem[_ngcontent-%COMP%]{position:relative;min-width:13vw;min-height:4em}.value__drop-elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab;z-index:-1}.disabled-drag[_ngcontent-%COMP%]{pointer-events:none}.domino-options-wrapper[_ngcontent-%COMP%]{border-radius:1vh;border:.2vw dashed transparent;padding:.5em}.options-wrapper_active[_ngcontent-%COMP%]{border-color:#afabab}.drag_active-option[_ngcontent-%COMP%], .drag_active-option[_ngcontent-%COMP%]:before{animation:swap_option .5s infinite alternate-reverse}@-webkit-keyframes swap_option{0%{opacity:0}to{opacity:1}}@keyframes swap_option{0%{opacity:0}to{opacity:1}}@media screen and (min-width:2500px){.domino-option-wrapper[_ngcontent-%COMP%], .domino__option[_ngcontent-%COMP%]:first-child{border-width:4px!important}}']}),e})(),g=(()=>{class e{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(v)}}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(r){return new(r||e)(a.ac(a.j))},imports:[[o.b,n.n]]}),e})()}}]);