(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"a7W+":function(t,e,s){"use strict";s.r(e),s.d(e,"MultipleChoicesComponent",(function(){return p})),s.d(e,"MultipleChoicesModule",(function(){return b}));var i=s("ofXK"),r=s("3Pt+"),o=s("yJW3"),n=s("fXoL"),c=s("XCOF"),l=s("91IU");function u(t,e){if(1&t&&n.Rb(0,"p",5),2&t){const t=n.hc(2);n.Gb("text-center",!t.IsHorizontal),n.kc("innerHTML",t.Label,n.wc)}}function a(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",6),n.ec("click",(function(){n.vc(t);const s=e.index;return n.hc(2).choise(s)})),n.Dc(1),n.Vb()}if(2&t){const t=e.$implicit;n.Gb("choise",t.isActive&&null===t.correctValue.IsCorrect)("correct-exercise-answer",t.correctValue.IsCorrect)("incorrect-exercise-answer",null!==t.correctValue.IsCorrect&&!t.correctValue.IsCorrect),n.Cb(1),n.Fc(" ",t.value," ")}}function h(t,e){if(1&t&&(n.Wb(0,"div",1),n.Cc(1,u,1,3,"p",2),n.Wb(2,"div",3),n.Cc(3,a,2,7,"div",4),n.Vb(),n.Vb()),2&t){const t=n.hc();n.Cb(1),n.kc("ngIf",t.Label),n.Cb(1),n.Gb("horizontal-wrapper",t.IsHorizontal)("flex-wrap",!t.IsHorizontal),n.Cb(1),n.kc("ngForOf",t.multiChoiseList)}}let p=(()=>{class t{constructor(t){this.exerciseDataService=t,this.userResultObj={}}ngOnChanges(){if(this.list.sort((t,e)=>t.Order-e.Order),this.isCorrectValues&&!this.HasMultipleAnswer){const t={value:null,IsCorrect:null};return void this.multiChoiseList.forEach((e,s)=>(this.list[s]&&(t.value=this.list[s].CorrectValue,t.IsCorrect=this.list[s].IsCorrect),"number"==typeof this.saveI&&e.value===t.value?(e.correctValue.value=!0,void(e.correctValue.IsCorrect=!0)):"number"==typeof this.saveI&&this.multiChoiseList[this.saveI].value!==t.value?(this.multiChoiseList[this.saveI].correctValue.IsCorrect=!1,void(this.multiChoiseList[this.saveI].isActive=!1)):"number"!=typeof this.saveI&&e.value===t.value?(e.correctValue.value=!1,e.correctValue.IsCorrect=!1,void(this.saveI=null)):void 0))}if(this.isCorrectValues&&this.HasMultipleAnswer)return void this.multiChoiseList.forEach((t,e)=>{this.list.forEach(s=>{this.userResultObj[e]||s.CorrectValue!==t.value||(t.correctValue.IsCorrect=!1),this.userResultObj[e]&&s.CorrectValue===this.userResultObj[e]&&(t.correctValue.IsCorrect=!0)})});const t=[];let e=1;this.list.forEach(s=>{const i={value:s.Value,isActive:!1,correctValue:{value:null,IsCorrect:null},order:e++};t.push(i)}),this.multiChoiseList=t}choise(t){if(this.HasMultipleAnswer){this.multiChoiseList[t].isActive=!this.multiChoiseList[t].isActive,this.multiChoiseList[t].isActive?this.userResultObj[t]=this.list[t]:delete this.userResultObj[t];let e=0;for(const t in this.userResultObj)this.userResultObj.hasOwnProperty(t)&&this.getUserResult(this.userResultObj[t],++e)}else"number"==typeof this.saveI&&(this.multiChoiseList[this.saveI].isActive=!1),this.saveI=t,this.multiChoiseList[t].isActive=!this.multiChoiseList[t].isActive,this.userResultObj={},this.userResultObj[t]=this.list[t],this.getUserResult(this.userResultObj[t].Value,1)}getUserResult(t,e){return this.exerciseDataService.subject.next({Type:"MultipleChoices",Order:this.Order,Data:{Order:e,Value:t}})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(c.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-multiple-choices"]],inputs:{isCorrectValues:"isCorrectValues",list:"list",IsHorizontal:"IsHorizontal",Label:"Label",HasMultipleAnswer:"HasMultipleAnswer",Order:"Order"},features:[n.Ab],decls:1,vars:1,consts:[["class","mx-auto big-f-size",4,"ngIf"],[1,"mx-auto","big-f-size"],["class","multiple-label",3,"text-center","innerHTML",4,"ngIf"],[1,"buttons-wrapper","d-flex","align-content-baseline"],["class","main-navigation-button answer-button big-f-size multiplue_button","appClick","",3,"choise","correct-exercise-answer","incorrect-exercise-answer","click",4,"ngFor","ngForOf"],[1,"multiple-label",3,"innerHTML"],["appClick","",1,"main-navigation-button","answer-button","big-f-size","multiplue_button",3,"click"]],template:function(t,e){1&t&&n.Cc(0,h,4,6,"div",0),2&t&&n.kc("ngIf",e.multiChoiseList)},directives:[i.j,i.i,l.a],styles:["[_nghost-%COMP%]{width:100%}.buttons-wrapper[_ngcontent-%COMP%]{width:70%;margin:auto}.answer-button[_ngcontent-%COMP%]{border:none;background:#11afa9;padding:1vh 1vw;margin:2vh auto}.horizontal-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.horizontal-wrapper[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]{margin:auto}.horizontal-wrapper[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:1.5vw}.horizontal-wrapper.buttons-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 1vw}.choise[_ngcontent-%COMP%]{opacity:.5}.multiplue_button[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),t})(),b=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(p)}}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(e){return new(e||t)(n.ac(n.j))},imports:[[i.b,r.n,o.a]]}),t})()}}]);