function _classCallCheck(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function _createClass(r,o,e){return o&&_defineProperties(r.prototype,o),e&&_defineProperties(r,e),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{OGSr:function(r,o,e){"use strict";e.r(o),e.d(o,"PaintColarComponent",(function(){return d})),e.d(o,"PaintColarModule",(function(){return C}));var t=e("3Pt+"),a=e("ofXK"),c=e("fXoL"),n=e("XCOF"),l=e("TznM"),i=["mouseColorElem"],s=["paintColar"];function u(r,o){if(1&r){var e=c.Xb();c.Wb(0,"div",11),c.ec("click",(function(r){c.vc(e);var t=o.index;return c.hc(2).addPaintColor(r.target,t)})),c.Vb()}if(2&r){var t=o.$implicit;c.Bc("background",t.activeColor.color,c.Jb),c.Gb("paint-colar__ball--active",t.activeColor.color)}}function p(r,o){if(1&r){var e=c.Xb();c.Wb(0,"div",12),c.ec("click",(function(r){c.vc(e);var t=o.index;return c.hc(2).addActiveClass(r.target,t)})),c.Vb()}2&r&&c.Bc("background",o.$implicit.activeColor.color,c.Jb)}function v(r,o){if(1&r){var e=c.Xb();c.Wb(0,"div",1,2),c.ec("mousemove",(function(r){return c.vc(e),c.hc().mouseColor(r)}))("touchmove",(function(r){return c.vc(e),c.hc().mouseColor(r)})),c.Wb(2,"div",3),c.Cc(3,u,1,4,"div",4),c.Vb(),c.Wb(4,"div",5),c.Wb(5,"div",6),c.Rb(6,"img",7),c.Vb(),c.Cc(7,p,1,2,"div",8),c.Vb(),c.Rb(8,"div",9,10),c.Vb()}if(2&r){var t=c.hc();c.Cb(3),c.kc("ngForOf",t.PaintColarArray),c.Cb(3),c.kc("src",t.imgSrc,c.xc),c.Cb(1),c.kc("ngForOf",t.resultColors),c.Cb(1),c.Bc("background",t.ballColor,c.Jb),c.Gb("mouse-color_border",t.ballColor)}}var d=function(){var r=function(){function r(o,e){_classCallCheck(this,r),this.exerciseDataService=o,this.resourceLoadsService=e,this.colors=[{color:"#10afaa",bucketImg:"BucketBlue",colorName:"Blue",order:null},{color:"#ff712d",bucketImg:"BucketOrange",colorName:"Orange",order:null},{color:"#a64ac9",bucketImg:"BucketPurple",colorName:"Purple",order:null},{color:"#fccd05",bucketImg:"BucketYellow",colorName:"Yellow",order:null}],this.imgSrc=e.getExerciseImage(this.colors[0].bucketImg)}return _createClass(r,[{key:"ngOnChanges",value:function(){var r=this;if(this.list)if(this.list.sort((function(r,o){return r.Order-o.Order})),this.isCorrectValues){this.PaintColarArray.forEach((function(r){r.activeColor.color=null,r.activeColor.colorName=null}));var o=0;this.list.forEach((function(e){r.resultColors.forEach((function(t){if(t.order===e.Order)for(var a=+e.CorrectValue;a>0;)r.PaintColarArray[o].CorrectValue=e.CorrectValue,r.PaintColarArray[o].IsCorrect=e.IsCorrect,r.PaintColarArray[o].activeColor.color=t.activeColor.color,r.PaintColarArray[o].activeColor.colorName=t.activeColor.colorName,a--,o++}))}))}else{var e,t=[];this.list.forEach((function(r){"NumberOfBalls"===r.Metric&&(e=r.Value),"Color"===r.Metric&&t.push({CorrectValue:null,IsCorrect:null,defaultValue:r.Value?r.Value:null,order:r.Order,activeColor:{color:"",colorName:""},activeOrder:null})}));for(var a=[],c=e,n=0;c>0;){var l={CorrectValue:null,IsCorrect:null,value:null,order:++n,activeColor:{color:"",colorName:""},activeOrder:null};a.push(l),c--}var i=[];t.forEach((function(o){r.colors.forEach((function(r){o.defaultValue===r.colorName&&(r.order=o.order,o.activeColor.color=r.color,o.activeColor.colorName=r.colorName,i.push(o))}))})),this.resultColors=i,this.PaintColarArray=a}}},{key:"addActiveClass",value:function(r,o){var e=document.getElementsByClassName("paint-colar__color-picker");Array.from(e).forEach((function(r){r.classList.remove("paint-colar__color-picker--active")})),r.classList.add("paint-colar__color-picker--active"),this.imgSrc=this.resourceLoadsService.getExerciseImage(this.colors[o].bucketImg),this.ballColor=this.colors[o].color,this.colorOrder=o+1,("ontouchstart"in window||navigator.msMaxTouchPoints)&&(this.mouseColorElem.nativeElement.style.display="none")}},{key:"addPaintColor",value:function(r,o){var e=this;this.ballColor&&(this.resultColors.forEach((function(r){r.activeColor.color===e.ballColor&&(e.PaintColarArray[o].activeColor.color=r.activeColor.color,e.PaintColarArray[o].activeColor.colorName=r.activeColor.colorName,e.PaintColarArray[o].activeOrder=r.order)})),this.getUserResult())}},{key:"mouseColor",value:function(r){if(!(r.clientX>this.paintColar.nativeElement.getBoundingClientRect().right)){var o=r.clientX-this.paintColar.nativeElement.getBoundingClientRect().left,e=r.clientY-this.paintColar.nativeElement.getBoundingClientRect().top,t=this.mouseColorElem.nativeElement.getBoundingClientRect().width;this.mouseColorElem.nativeElement.style.left=o+t+"px",this.mouseColorElem.nativeElement.style.top=e+"px"}}},{key:"getUserResult",value:function(){var r={Type:"PaintColar",Order:this.Order,Data:{Order:null,Value:null}},o={};for(var e in this.PaintColarArray.forEach((function(r){r.activeColor&&(o[r.activeOrder]=0)})),this.PaintColarArray.forEach((function(r){r.activeColor&&o[r.activeOrder]++})),o)Object.prototype.hasOwnProperty.call(o,e)&&(r.Data.Order=e,r.Data.Value=o[e],this.exerciseDataService.subject.next(r))}}]),r}();return r.\u0275fac=function(o){return new(o||r)(c.Qb(n.a),c.Qb(l.a))},r.\u0275cmp=c.Kb({type:r,selectors:[["app-paint-colar"]],viewQuery:function(r,o){var e;1&r&&(c.Hc(i,!0),c.Hc(s,!0)),2&r&&(c.rc(e=c.fc())&&(o.mouseColorElem=e.first),c.rc(e=c.fc())&&(o.paintColar=e.first))},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[c.Ab],decls:1,vars:1,consts:[["class","paint-colar__wrapper d-flex flex-column align-items-center",3,"mousemove","touchmove",4,"ngIf"],[1,"paint-colar__wrapper","d-flex","flex-column","align-items-center",3,"mousemove","touchmove"],["paintColar",""],[1,"paint-colar__ball-wrapper"],["class","paint-colar__ball",3,"background","paint-colar__ball--active","click",4,"ngFor","ngForOf"],[1,"paint-colar__color-picker-wrapper","d-flex","justify-content-between"],[1,"paint-colar__bucket-img-wrapper"],[1,"paint-colar__bucket-img",3,"src"],["class","paint-colar__color-picker",3,"background","click",4,"ngFor","ngForOf"],[1,"mouse-color"],["mouseColorElem",""],[1,"paint-colar__ball",3,"click"],[1,"paint-colar__color-picker",3,"click"]],template:function(r,o){1&r&&c.Cc(0,v,10,7,"div",0),2&r&&c.kc("ngIf",o.PaintColarArray)},directives:[a.j,a.i],styles:['.paint-colar__wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.paint-colar__ball-wrapper[_ngcontent-%COMP%], .paint-colar__wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.paint-colar__ball-wrapper[_ngcontent-%COMP%]{justify-content:space-between;width:100%;margin-bottom:5vh;padding:0 1vw}.paint-colar__ball-wrapper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;margin:auto;z-index:-1;height:.5vh;background:#a64ac9}.paint-colar__ball[_ngcontent-%COMP%]{position:relative;width:2.5vw;height:2.5vw;border-radius:50%;background:#fef5cd;border:.2vw solid #be9a02;cursor:pointer}.paint-colar__ball--active[_ngcontent-%COMP%]{border:none!important}.paint-colar__ball--active[_ngcontent-%COMP%]:before{position:absolute;content:"";top:0;bottom:0;left:0;right:0;margin:auto;border-radius:50%;border:.2vw solid #000;opacity:.25}.paint-colar__color-picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#dad8d9;padding:.5vw 1.5vw;border-radius:10vh;margin:auto}.paint-colar__color-picker[_ngcontent-%COMP%]{width:2.5vw;height:2.5vw;border-radius:50%;cursor:pointer}.paint-colar__color-picker[_ngcontent-%COMP%]:not(:last-child){margin-right:1vw}.paint-colar__color-picker--active[_ngcontent-%COMP%]{border:.3vw solid #4d4d4d}.paint-colar__bucket-img[_ngcontent-%COMP%]{width:100%;height:100%}.paint-colar__bucket-img-wrapper[_ngcontent-%COMP%], .paint-colar__color-picker[_ngcontent-%COMP%]{width:2.5vw;height:2.5vw;margin-right:1vw}.mouse-color[_ngcontent-%COMP%]{padding:1vh;position:absolute}.mouse-color_border[_ngcontent-%COMP%]{border:.1vw solid #fff}']}),r}(),C=function(){var r=function(){function r(o){_classCallCheck(this,r),this.componentFactoryResolver=o}return _createClass(r,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(d)}}]),r}();return r.\u0275mod=c.Ob({type:r}),r.\u0275inj=c.Nb({factory:function(o){return new(o||r)(c.ac(c.j))},imports:[[a.b,t.n]]}),r}()}}]);