(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"0yLu":function(e,t,n){"use strict";n.r(t),n.d(t,"UpperChainComponent",(function(){return p})),n.d(t,"UpperChainModule",(function(){return d}));var r=n("ofXK"),s=n("3Pt+"),a=n("fXoL"),i=n("XCOF");function o(e,t){if(1&e&&(a.Wb(0,"div",6),a.Rb(1,"span"),a.Wb(2,"span",7),a.Dc(3),a.Vb(),a.Vb()),2&e){const e=t.$implicit,n=a.hc(2);a.Cb(1),a.Eb("legend-value legend "+n.resultClasses[e.Order-0-1]),a.Cb(2),a.Fc(" ",e.Value," ")}}function c(e,t){if(1&e&&(a.Wb(0,"span",11),a.Rb(1,"span"),a.Vb()),2&e){const e=a.hc().$implicit;a.Cb(1),a.Eb("legend "+e.class)}}function l(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",8),a.Cc(1,c,2,2,"span",9),a.Wb(2,"input",10),a.ec("input",(function(n){a.vc(e);const r=t.index,s=a.hc(2);return[s.isIcon(n.target),s.getUserResult(n.target.value,r)]})),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit;a.Bc("margin-left",e.position),a.Cb(1),a.kc("ngIf",e.class),a.Cb(1),a.Gb("input-disabled",e.defaultValue)("correct-exercise-answer",e.IsCorrect)("incorrect-exercise-answer",null!==e.IsCorrect&&!e.IsCorrect),a.kc("disabled",e.defaultValue)("value",e.defaultValue||e.CorrectValue)}}function u(e,t){if(1&e&&(a.Wb(0,"div",1),a.Wb(1,"div",2),a.Cc(2,o,4,3,"div",3),a.Vb(),a.Wb(3,"div",4),a.Cc(4,l,3,11,"div",5),a.Vb(),a.Vb()),2&e){const e=a.hc();a.Cb(2),a.kc("ngForOf",e.LegendValue),a.Cb(2),a.kc("ngForOf",e.upperChainList)}}let p=(()=>{class e{constructor(e){this.exerciseDataService=e,this.classes=["square","rhombus","triangle","circle"]}ngOnChanges(){if(this.list.sort((e,t)=>e.Order-t.Order),this.isCorrectValues)return void this.list.forEach((e,t)=>{e.Order--,this.upperChainList[e.Order].CorrectValue=e.CorrectValue,this.upperChainList[e.Order].IsCorrect=e.IsCorrect});const e=[],t=[],n=[],r=[];this.list.forEach(r=>{"DefaultValue"===r.Metric&&e.push(r),"LegendValue"===r.Metric&&n.push(r),"StepLegendNumber"===r.Metric&&t.push(r)}),n.sort((e,t)=>e.Order-t.Order),this.LegendValue=n,t.sort((e,t)=>e.Order-t.Order);const s=[];for(n.forEach(e=>{s.push(this.classes[this.getRandomClass()])});this.unique(s).length;)this.unique(s).forEach(e=>{s[e]=this.classes[this.getRandomClass()]});this.resultClasses=s;let a=2;const i=[];t.forEach(e=>{i.push(+e.Value-1),r.push({position:a+"vw",class:s[+e.Value-1],defaultValue:null,CorrectValue:null,IsCorrect:null}),a+=11}),r.push({position:a+"vw",class:null,defaultValue:null,CorrectValue:null,IsCorrect:null}),e.forEach(e=>{try{r[+e.Order-1].defaultValue=e.Value}catch(t){alert("Error: Order default value > Steps or < 1")}}),this.upperChainList=r}getUserResult(e,t){this.exerciseDataService.subject.next({Type:"UpperChain",Order:this.Order,Data:{Order:t+1,Value:e}})}isIcon(e){e.value?e.classList.remove("form_input-edit-icon"):e.classList.add("form_input-edit-icon")}getRandomClass(){const e=13*Math.random()-.5,t=Math.round(e);return t<=3?0:t>3&&t<=6?1:t>6&&t<=9?2:t>9?3:void 0}unique(e){const t=[],n=[];return e.forEach((e,r)=>{t.includes(e)?n.push(r):t.push(e)}),n}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(i.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-upper-chain"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[a.Ab],decls:1,vars:1,consts:[["class","upper-chain-wrapper d-flex justify-content-center",4,"ngIf"],[1,"upper-chain-wrapper","d-flex","justify-content-center"],[1,"legends-wrapper"],["class","legend-wrapper d-flex align-items-center",4,"ngFor","ngForOf"],[1,"upper-chain__list","d-flex","flex-column","flex-column-reverse"],["class","form_input-wrapper",3,"margin-left",4,"ngFor","ngForOf"],[1,"legend-wrapper","d-flex","align-items-center"],[1,"legend-value-text","big-f-size"],[1,"form_input-wrapper"],["class","arrow",4,"ngIf"],["type","text",1,"form_input","form_input-edit-icon","exercise-one-answers__input","text-center","big-f-size",3,"disabled","value","input"],[1,"arrow"]],template:function(e,t){1&e&&a.Cc(0,u,5,2,"div",0),2&e&&a.kc("ngIf",t.upperChainList)},directives:[r.j,r.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.upper-chain-wrapper[_ngcontent-%COMP%]{width:90%;margin:2vh auto;position:relative}.upper-chain__list[_ngcontent-%COMP%]{padding-left:2vw}.legends-wrapper[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:0;left:-5%}.legend-wrapper[_ngcontent-%COMP%]{margin-bottom:2vh}.legend[_ngcontent-%COMP%]{display:inline-block;width:2vw;height:2vw;background-size:contain!important;transform:translate(-35%,40%)}.legend-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{transform:none!important}.legend-value-text[_ngcontent-%COMP%]{margin-left:1vw;white-space:nowrap}.form_input-wrapper[_ngcontent-%COMP%]{width:15vw}.form_input-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-top:3vh}.form_input[_ngcontent-%COMP%]{padding:0!important}.arrow[_ngcontent-%COMP%]{height:7vh;top:-9vh;z-index:1;left:34%}.arrow[_ngcontent-%COMP%], .arrow[_ngcontent-%COMP%]:before{display:block;position:absolute}.arrow[_ngcontent-%COMP%]:before{content:"";background:url(/assets/Images/OtherImages/exercise-arrow.png) no-repeat;background-position:bottom;background-size:contain;width:5vw;margin:auto;left:0;right:0;top:0;bottom:0;transform:rotate(-35deg)}.square[_ngcontent-%COMP%]{background:url(/assets/Images/OtherImages/square.svg) no-repeat 50%;width:1.8vw;height:1.8vw}.circle[_ngcontent-%COMP%]{background:url(/assets/Images/OtherImages/circle.svg) no-repeat 50%}.triangle[_ngcontent-%COMP%]{background:url(/assets/Images/OtherImages/triangle.svg) no-repeat 50%}.rhombus[_ngcontent-%COMP%]{background:url(/assets/Images/OtherImages/rhombus.svg) no-repeat 50%;width:2.2vw;height:2.2vw}']}),e})(),d=(()=>{class e{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(p)}}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)(a.ac(a.j))},imports:[[r.b,s.n]]}),e})()}}]);