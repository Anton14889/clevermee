(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"6BZh":function(t,r,e){"use strict";e.r(r),e.d(r,"DragImagesToOptionsComponent",(function(){return l})),e.d(r,"DragImagesToOptionsModule",(function(){return u}));var i=e("ofXK"),o=e("3Pt+"),n=e("Amjd"),a=e("fXoL"),s=e("XCOF"),c=e("TznM");function g(t,r){if(1&t){const t=a.Xb();a.Wb(0,"img",10),a.ec("dragstart",(function(){a.vc(t);const r=a.hc().index;return a.hc(2).dragOptionsStart(r)})),a.Vb()}if(2&t){const t=a.hc().$implicit,r=a.hc(2);a.kc("src",r.resourceLoadsService.getExerciseImage(t.img),a.xc)}}function d(t,r){if(1&t){const t=a.Xb();a.Wb(0,"div",6),a.Rb(1,"p",7),a.Wb(2,"div",8),a.ec("dragleave",(function(r){return a.vc(t),a.hc(2).dragleaveOptions(r.target)}))("dragover",(function(r){return a.vc(t),a.hc(2).dragoverOptions(r)}))("dragenter",(function(r){return a.vc(t),a.hc(2).dragenterOptions(r)}))("drop",(function(e){a.vc(t);const i=r.index;return a.hc(2).dropOptions(e.target,i)})),a.Cc(3,g,1,1,"img",9),a.Dc(4),a.Vb(),a.Vb()}if(2&t){const t=r.$implicit;a.Cb(1),a.kc("innerHTML",t.value,a.wc),a.Cb(1),a.Gb("correct-exercise-answer",t.IsCorrect)("incorrect-exercise-answer",null!==t.IsCorrect&&!t.IsCorrect),a.Cb(1),a.kc("ngIf",t.img),a.Cb(1),a.Fc(" ",t.img?"":"\xa0"," ")}}function p(t,r){if(1&t){const t=a.Xb();a.Wb(0,"div",11),a.Wb(1,"img",12),a.ec("dragstart",(function(){a.vc(t);const e=r.$implicit;return a.hc(2).dragstart(e.value,e.imgValue)})),a.Vb(),a.Wb(2,"div",13),a.Dc(3),a.Vb(),a.Vb()}if(2&t){const t=r.$implicit,e=a.hc(2);a.Cb(1),a.kc("src",e.resourceLoadsService.getExerciseImage(t.value),a.xc),a.Cb(2),a.Fc(" ",t.imgValue," ")}}function m(t,r){if(1&t&&(a.Wb(0,"div",1),a.Wb(1,"div",2),a.Cc(2,d,5,7,"div",3),a.Vb(),a.Wb(3,"div",4),a.Cc(4,p,4,2,"div",5),a.Vb(),a.Vb()),2&t){const t=a.hc();a.Cb(2),a.kc("ngForOf",t.dragImagesOptionsArray),a.Cb(2),a.kc("ngForOf",t.optionsArray)}}Object(n.polyfill)();let l=(()=>{class t{constructor(t,r){this.exerciseDataService=t,this.resourceLoadsService=r,this.optionsArray=[]}ngOnChanges(){if(this.list.sort((t,r)=>t.Order-r.Order),this.isCorrectValues)return void this.list.forEach(t=>{this.dragImagesOptionsArray.forEach(r=>{this.optionsArray.forEach(e=>{r.order===t.Order&&e.imgValue===t.CorrectValue&&(r.IsCorrect=t.IsCorrect,r.img=e.value)})})});const t=[],r=[],e=[];this.list.forEach(i=>{const o={CorrectValue:null,IsCorrect:null,value:i.Value,img:null,imgValue:null,order:i.Order};"OptionText"===i.Metric&&e.push(o),"OptionImage"===i.Metric&&t.push(o),"Text"===i.Metric&&r.push(o)});const i=[];t.forEach(t=>{e.forEach(r=>{t.order===r.order&&(t.imgValue=r.value,i.push(t))})}),this.dragImagesOptionsArray=r,this.optionsArray=i}dragstart(t,r){this.startImg=t,this.imgValue=r}dragOptionsStart(t){this.startImg=this.dragImagesOptionsArray[t].img,this.imgValue=this.dragImagesOptionsArray[t].imgValue,this.saveStartOptionNumber=t}dropOptions(t,r){this.dragImagesOptionsArray[r].img=this.startImg,this.dragImagesOptionsArray[r].imgValue=this.imgValue,this.saveStartOptionNumber===r||!this.saveStartOptionNumber&&0!==this.saveStartOptionNumber||(this.dragImagesOptionsArray[this.saveStartOptionNumber].img=null,this.dragImagesOptionsArray[this.saveStartOptionNumber].imgValue=null,this.saveStartOptionNumber=null),t.classList.remove("drag_active-option"),this.dragImagesOptionsArray.forEach(t=>{this.getUserResult(t.imgValue,t.order)})}dragoverOptions(t){t.preventDefault()}dragenterOptions(t){t.preventDefault(),t.target.classList.add("drag_active-option")}dragleaveOptions(t){t.classList.remove("drag_active-option")}getUserResult(t,r){this.exerciseDataService.subject.next({Type:"DragImagesToOptions",Order:this.Order,Data:{Order:r,Value:t}})}}return t.\u0275fac=function(r){return new(r||t)(a.Qb(s.a),a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-drag-images-to-options"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[a.Ab],decls:1,vars:1,consts:[["class","drag-images-to-options__wrapper d-flex flex-column align-items-center",4,"ngIf"],[1,"drag-images-to-options__wrapper","d-flex","flex-column","align-items-center"],[1,"drag-images-to-options__wrapper"],["class","drag-images-to-options-container d-flex align-items-center justify-content-end",4,"ngFor","ngForOf"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap","justify-content-center"],["class","drag-options__option text-center",4,"ngFor","ngForOf"],[1,"drag-images-to-options-container","d-flex","align-items-center","justify-content-end"],[1,"drag-images-to-options__question","main-f-size",3,"innerHTML"],[1,"drag-images-to-options__img-wrapper","drag-options__elem",3,"dragleave","dragover","dragenter","drop"],["draggable","true","class","drag-images-to-options__img",3,"src","dragstart",4,"ngIf"],["draggable","true",1,"drag-images-to-options__img",3,"src","dragstart"],[1,"drag-options__option","text-center"],["draggable","true",1,"options__img",3,"src","dragstart"],[1,"drag-images-to-options"]],template:function(t,r){1&t&&a.Cc(0,m,5,2,"div",0),2&t&&a.kc("ngIf",r.dragImagesOptionsArray)},directives:[i.j,i.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.drag-images-to-options-container[_ngcontent-%COMP%]{margin:.5vh 0}.drag-images-to-options__img-wrapper[_ngcontent-%COMP%]{border-radius:10vh;margin-left:2vw;width:4vw}.drag-images-to-options__img[_ngcontent-%COMP%]{width:100%;cursor:-webkit-grab;cursor:grab}.options__img[_ngcontent-%COMP%]{max-width:2.5vw;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{width:100%;margin-top:1em}.drag-options__option[_ngcontent-%COMP%]{border:.2vw solid #49b0a8;background:#d8fcf9;border-radius:3vh;padding:1vh;min-width:12%}.drag-options__option[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5vw}.drag-options__elem[_ngcontent-%COMP%]{position:relative;border-radius:1vh;min-width:45px;width:3vw;height:3vw;padding:.7em;display:flex;justify-content:center;align-items:center;margin-bottom:1vh;max-height:100%}.drag-options__elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab;border-radius:1vh;z-index:-1}.drag_active-option[_ngcontent-%COMP%]:before{animation:swap_option .5s infinite alternate-reverse;background:none}@-webkit-keyframes swap_option{0%{opacity:0}to{opacity:1}}@keyframes swap_option{0%{opacity:0}to{opacity:1}}@media screen and (min-width:2500px){.drag-options__elem[_ngcontent-%COMP%]{padding:1vh}}']}),t})(),u=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(l)}}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(r){return new(r||t)(a.ac(a.j))},imports:[[i.b,o.n]]}),t})()}}]);