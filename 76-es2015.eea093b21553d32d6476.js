(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{XouK:function(t,e,n){"use strict";n.r(e),n.d(e,"TreeChartComponent",(function(){return p})),n.d(e,"TreeChartModule",(function(){return f}));var r=n("ofXK"),i=n("3Pt+"),l=n("fXoL"),c=n("XCOF");function a(t,e){if(1&t&&l.Rb(0,"img",9),2&t){const t=l.hc().index,e=l.hc().$implicit;l.Gb("tree-chart_arrow-last",t===e.length-1||t%2!=0)}}function o(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",6),l.Cc(1,a,1,2,"img",7),l.Wb(2,"input",8),l.ec("input",(function(n){l.vc(t);const r=e.$implicit,i=l.hc(3);return[i.isIcon(n.target),i.getUserResult(n.target.value,r.order)]})),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit,n=e.index,r=l.hc(),i=r.index;l.Gb("last-vertical_line",n===r.$implicit.length-1||n%2!=0),l.Cb(1),l.kc("ngIf",i>0),l.Cb(1),l.Gb("input-disabled",t.defaultValue)("correct-exercise-answer",t.IsCorrect)("incorrect-exercise-answer",null!==t.IsCorrect&&!t.IsCorrect),l.kc("disabled",t.CorrectValue||t.defaultValue)("value",t.CorrectValue||t.defaultValue)}}function s(t,e){1&t&&l.Rb(0,"div",10)}function g(t,e){1&t&&l.Rb(0,"div",10)}function u(t,e){1&t&&l.Rb(0,"div",10)}function h(t,e){if(1&t&&(l.Wb(0,"div",3),l.Cc(1,o,3,11,"div",4),l.Cc(2,s,1,0,"div",5),l.Cc(3,g,1,0,"div",5),l.Cc(4,u,1,0,"div",5),l.Vb()),2&t){const t=e.$implicit,n=e.index,r=l.hc(2);l.Cb(1),l.kc("ngForOf",t),l.Cb(1),l.kc("ngIf",n>0&&t.length%2>0),l.Cb(1),l.kc("ngIf",n>0&&r.treeChartArray[n].length!==r.treeChartArray[n-1].length&&t.length%2==0),l.Cb(1),l.kc("ngIf",n>0&&r.treeChartArray[n].length!==r.treeChartArray[n-1].length&&t.length%2==0)}}function d(t,e){if(1&t&&(l.Wb(0,"div",1),l.Cc(1,h,5,4,"div",2),l.Vb()),2&t){const t=l.hc();l.Cb(1),l.kc("ngForOf",t.treeChartArray)}}let p=(()=>{class t{constructor(t){this.exerciseDataService=t}ngOnChanges(){if(this.list.sort((t,e)=>t.Order-e.Order),this.isCorrectValues)return void this.list.forEach(t=>{this.treeChartArray.forEach(e=>{e.forEach(e=>{e.order===t.Order&&(e.CorrectValue=t.CorrectValue,e.IsCorrect=t.IsCorrect)})})});const t=[],e=[];this.list.forEach(n=>{"ColumnSize"===n.Metric&&t.push(+n.Value),"DefaultValue"===n.Metric&&e.push({CorrectValue:null,IsCorrect:null,value:n.Value,order:n.Order})});const n=[];let r=0;t.forEach((t,e)=>{for(n.push([]);t>0;){const i={CorrectValue:null,IsCorrect:null,value:null,defaultValue:null,order:++r};n[e].push(i),t--}}),n.forEach(t=>{t.forEach(t=>{e.forEach(e=>{t.order===e.order&&(t.defaultValue=e.value)})})}),this.treeChartArray=n}getUserResult(t,e){this.exerciseDataService.subject.next({Type:"TreeChart",Order:this.Order,Data:{Order:e,Value:t}})}isIcon(t){t.value?t.classList.remove("form_input-edit-icon"):t.classList.add("form_input-edit-icon")}ngAfterViewInit(){const t=document.getElementsByClassName("tree-chart__row-wrapper");Array.from(t).forEach((e,n)=>{if(0===n)return;let r=e.getElementsByClassName("tree-chart_input");const i=e.getElementsByClassName("tree-chart__top-line");if(r.length!==t[n-1].getElementsByClassName("tree-chart_input").length){if(r.length<4){const t=i[0],n=r[0].getBoundingClientRect().left-e.getBoundingClientRect().left,l=r[0].getBoundingClientRect().width/2+n,c=e.getBoundingClientRect().right-r[r.length-1].getBoundingClientRect().right,a=r[r.length-1].getBoundingClientRect().width/2+c;t.style.left=l+"px",t.style.right=a+"px"}if(4===r.length){const t=i[0],n=i[1],l=r[0].getBoundingClientRect().left-e.getBoundingClientRect().left,c=r[0].getBoundingClientRect().width/2+l,a=r[1].getBoundingClientRect().left-e.getBoundingClientRect().left,o=r[1].getBoundingClientRect().width/2+a,s=r[2].getBoundingClientRect().left-e.getBoundingClientRect().left,g=r[2].getBoundingClientRect().width/2+s,u=r[3].getBoundingClientRect().left-e.getBoundingClientRect().left,h=r[3].getBoundingClientRect().width/2+u;t.style.left=c+"px",t.style.width=o-c+"px",n.style.left=g+"px",n.style.width=h-g+"px"}if(t[n-1].getElementsByClassName("tree-chart_input").length>r.length){r=t[n-1].getElementsByClassName("tree-chart_input");const l=r[0].getBoundingClientRect().left-e.getBoundingClientRect().left,c=r[0].getBoundingClientRect().width/2+l,a=i[0],o=e.getBoundingClientRect().right-r[r.length-1].getBoundingClientRect().right,s=r[r.length-1].getBoundingClientRect().width/2+o;a.style.left=c+"px",a.style.right=s+"px"}if(4===t[n-1].getElementsByClassName("tree-chart_input").length&&t[n+1]&&1!==t[n+1].getElementsByClassName("tree-chart_input").length||4===t[n-1].getElementsByClassName("tree-chart_input").length&&1!==t[n].getElementsByClassName("tree-chart_input").length){const t=i[0],n=i[1],l=r[0].getBoundingClientRect().left-e.getBoundingClientRect().left,c=r[0].getBoundingClientRect().width/2+l,a=r[1].getBoundingClientRect().left-e.getBoundingClientRect().left,o=r[1].getBoundingClientRect().width/2+a,s=r[2].getBoundingClientRect().left-e.getBoundingClientRect().left,g=r[2].getBoundingClientRect().width/2+s,u=r[3].getBoundingClientRect().left-e.getBoundingClientRect().left,h=r[3].getBoundingClientRect().width/2+u;t.style.left=c+"px",t.style.width=o-c+"px",n.style.left=g+"px",n.style.width=h-g+"px"}}})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(c.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-tree-chart"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[l.Ab],decls:1,vars:1,consts:[["class","tree-chart-wrapper",4,"ngIf"],[1,"tree-chart-wrapper"],["class","d-flex mx-auto tree-chart__row-wrapper",4,"ngFor","ngForOf"],[1,"d-flex","mx-auto","tree-chart__row-wrapper"],["class","form_input-wrapper tree-chart_input-wrapper",3,"last-vertical_line",4,"ngFor","ngForOf"],["class","tree-chart__top-line",4,"ngIf"],[1,"form_input-wrapper","tree-chart_input-wrapper"],["src","/assets/Images/OtherImages/small-ex-triangle.svg","class","tree-chart_arrow",3,"tree-chart_arrow-last",4,"ngIf"],["type","text",1,"form_input","form_input-edit-icon","tree-chart_input","text-center","big-f-size",3,"disabled","value","input"],["src","/assets/Images/OtherImages/small-ex-triangle.svg",1,"tree-chart_arrow"],[1,"tree-chart__top-line"]],template:function(t,e){1&t&&l.Cc(0,d,2,1,"div",0),2&t&&l.kc("ngIf",e.treeChartArray)},directives:[r.j,r.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.tree-chart__row-wrapper[_ngcontent-%COMP%]{position:relative;padding:2vh 0 0}.tree-chart__top-line[_ngcontent-%COMP%]{border-bottom:.3vw solid #a64ac9;position:absolute;top:0}.tree-chart__row-wrapper[_ngcontent-%COMP%]:not(:last-child)   .tree-chart_input-wrapper[_ngcontent-%COMP%]:after{content:"";display:block;background:#a64ac9;width:.3vw;height:2.4vh;position:absolute;left:50%;z-index:-1}.tree-chart__row-wrapper[_ngcontent-%COMP%]:not(:first-child)   .tree-chart_input-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;background:#a64ac9;width:.3vw;height:2vh;position:absolute;left:50%;top:-3.7vh;z-index:-1}.tree-chart_input-wrapper[_ngcontent-%COMP%]{max-width:15vw;margin:2vh auto;position:relative}.last-vertical_line[_ngcontent-%COMP%]:after, .last-vertical_line[_ngcontent-%COMP%]:before{right:50%;left:inherit!important}.tree-chart_arrow[_ngcontent-%COMP%]{position:absolute;left:50%;width:1vw;height:2vh;transform:translate(calc(-50% + .15vw),-100%)}.tree-chart_arrow-last[_ngcontent-%COMP%]{transform:translate(calc(-50% - .15vw),-100%)}']}),t})(),f=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(p)}}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)(l.ac(l.j))},imports:[[r.b,i.n]]}),t})()}}]);