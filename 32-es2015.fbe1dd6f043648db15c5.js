(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{BaPy:function(t,r,e){"use strict";e.r(r),e.d(r,"DragOptionsToComplexTableComponent",(function(){return f})),e.d(r,"DragOptionsToComplexTableModule",(function(){return u}));var o=e("ofXK"),n=e("3Pt+"),a=e("Amjd"),i=e("fXoL"),s=e("XCOF");const c=["optionsWrapper"];function p(t,r){if(1&t){const t=i.Xb();i.Wb(0,"td",9),i.ec("dragover",(function(r){return i.vc(t),i.hc(3).dragover(r)}))("drop",(function(e){i.vc(t);const o=r.index,n=i.hc().index;return i.hc(2).drop(e.target,n,o)}))("dragenter",(function(r){return i.vc(t),i.hc(3).dragenter(r)}))("dragleave",(function(r){return i.vc(t),i.hc(3).dragleave(r.target)})),i.Dc(1),i.Vb()}if(2&t){const t=r.$implicit;i.Gb("correct-exercise-answer",t.IsCorrect)("incorrect-exercise-answer",null!==t.IsCorrect&&!t.IsCorrect),i.Cb(1),i.Fc(" ",t.value?t.value:" \xa0"," ")}}function d(t,r){if(1&t&&(i.Wb(0,"tr",7),i.Cc(1,p,2,5,"td",8),i.Vb()),2&t){const t=r.$implicit;i.Cb(1),i.kc("ngForOf",t)}}function l(t,r){if(1&t&&(i.Wb(0,"div",4),i.Wb(1,"table",5),i.Cc(2,d,2,1,"tr",6),i.Vb(),i.Vb()),2&t){const t=i.hc();i.Cb(2),i.kc("ngForOf",t.dragOptionsComplexTableArray)}}function g(t,r){if(1&t){const t=i.Xb();i.Wb(0,"div",10),i.ec("dragstart",(function(){i.vc(t);const e=r.$implicit;return i.hc().dragOptionsStart(e.value)})),i.Dc(1),i.Vb()}if(2&t){const t=r.$implicit;i.Cb(1),i.Fc(" ",t.value," ")}}Object(a.polyfill)();let f=(()=>{class t{constructor(t){this.exerciseDataService=t,this.optionsArray=[]}ngOnChanges(){if(this.list.sort((t,r)=>t.Order-r.Order),this.isCorrectValues)return void this.list.forEach(t=>{this.dragOptionsComplexTableArray.forEach(r=>{r.forEach(r=>{r.order===t.Order&&(r.IsCorrect=t.IsCorrect,r.value=t.CorrectValue)})})});const t=[],r=[];this.list.forEach(e=>{const o={order:e.Order,value:e.Value};"ColumnSize"===e.Metric&&t.push(o),"DefaultValue"===e.Metric&&r.push(o)});const e=[];let o=0;t.forEach(t=>{let r=+t.value;const n=[];for(;r>0;)n.push({order:++o,value:null,IsCorrect:null}),r--;e.push(n)}),this.dragOptionsComplexTableArray=e,this.optionsArray=r}drop(t,r,e){this.isCorrectValues||(this.dragOptionsComplexTableArray[r][e].value=this.startValue,t.classList.remove("drag_active-option"),this.dragOptionsComplexTableArray.forEach(t=>{t.forEach(t=>{this.getUserResult(t.value,t.order)})}))}dragOptionsStart(t){this.startValue=t}dragenter(t){t.preventDefault(),t.target.classList.add("drag_active-option")}dragleave(t){t.classList.remove("drag_active-option")}dragover(t){t.preventDefault()}dragoverOptions(t){t.preventDefault(),this.optionsWrapper.nativeElement.classList.add("options-wrapper_active")}dragenterOptions(t){t.preventDefault()}dragleaveOptions(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}dropOptions(t){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}getUserResult(t,r){this.exerciseDataService.subject.next({Type:"DragOptionsToComplexTable",Order:this.Order,Data:{Order:r,Value:t}})}}return t.\u0275fac=function(r){return new(r||t)(i.Qb(s.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-drag-options-to-complex-table"]],viewQuery:function(t,r){var e;1&t&&i.Ac(c,!0),2&t&&i.rc(e=i.fc())&&(r.optionsWrapper=e.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[i.Ab],decls:4,vars:2,consts:[["class","table-wrapper big-f-size",4,"ngIf"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap",3,"drop","dragover","dragenter","dragleave"],["optionsWrapper",""],["class","drag-options__option text-center swap_option","draggable","true",3,"dragstart",4,"ngFor","ngForOf"],[1,"table-wrapper","big-f-size"],[1,"drag-options-table"],["class","table__tr d-flex",4,"ngFor","ngForOf"],[1,"table__tr","d-flex"],["class","table__td d-flex align-items-center justify-content-center",3,"correct-exercise-answer","incorrect-exercise-answer","dragover","drop","dragenter","dragleave",4,"ngFor","ngForOf"],[1,"table__td","d-flex","align-items-center","justify-content-center",3,"dragover","drop","dragenter","dragleave"],["draggable","true",1,"drag-options__option","text-center","swap_option",3,"dragstart"]],template:function(t,r){1&t&&(i.Cc(0,l,3,1,"div",0),i.Wb(1,"div",1,2),i.ec("drop",(function(t){return r.dropOptions(t)}))("dragover",(function(t){return r.dragoverOptions(t)}))("dragenter",(function(t){return r.dragenterOptions(t)}))("dragleave",(function(){return r.dragleaveOptions()})),i.Cc(3,g,2,1,"div",3),i.Vb()),2&t&&(i.kc("ngIf",r.dragOptionsComplexTableArray),i.Cb(3),i.kc("ngForOf",r.optionsArray))},directives:[o.j,o.i],styles:["[_nghost-%COMP%]{margin:1vh 0;text-align:center;width:100%}.table-wrapper[_ngcontent-%COMP%]{border-right:.12vw solid #a64ac9;display:inline-block;max-width:100%}.drag-options-table[_ngcontent-%COMP%], .table__td[_ngcontent-%COMP%]{max-width:100%}.table__td[_ngcontent-%COMP%]{width:100%;border-left:.12vw solid #a64ac9;padding:1vh;min-width:8vw;word-wrap:break-word}.table__tr[_ngcontent-%COMP%]{border-top:.12vw solid #a64ac9;color:#802f9f;background:#fff0e9}.table__tr[_ngcontent-%COMP%]:first-child{background:#ff712c;color:#fff}.table__tr[_ngcontent-%COMP%]:nth-child(2){background:#ffe1d2;color:#55206a}.table__tr[_ngcontent-%COMP%]:last-child{border-bottom:.12vw solid #a64ac9}.drag_active-option[_ngcontent-%COMP%]{animation:swap_option .5s infinite alternate-reverse}.drag-options__option[_ngcontent-%COMP%]:active{opacity:.6}.drag-options__option[_ngcontent-%COMP%]{background:#ff712c;color:#fff;min-width:15%;padding:0 1vw;line-height:3vw;border-radius:10vh;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{margin-top:8vh;border-radius:5vh;border:.2vw dashed transparent;padding:.1vh 1vw}.options-wrapper_empty[_ngcontent-%COMP%]{padding:1.5vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]{margin:1vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]:not(:last-child){margin-right:1%}.swap_option[_ngcontent-%COMP%]{-webkit-animation:swap_option .3s;animation:swap_option .3s}.options-wrapper.options-wrapper_active[_ngcontent-%COMP%]{border-color:#afabab}@-webkit-keyframes swap_option{0%{background:#fff}to{background:#ff712c}}@keyframes swap_option{0%{background:#fff}to{background:#ff712c}}"]}),t})(),u=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(f)}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(r){return new(r||t)(i.ac(i.j))},imports:[[o.b,n.n]]}),t})()}}]);