(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Ygza:function(e,t,r){"use strict";r.r(t),r.d(t,"DragImagesToSequenceComponent",(function(){return l})),r.d(t,"DragImagesToSequenceModule",(function(){return m}));var n=r("ofXK"),i=r("3Pt+"),o=r("Amjd"),s=r("fXoL"),a=r("XCOF"),c=r("TznM");function g(e,t){if(1&e){const e=s.Xb();s.Wb(0,"div",7),s.Rb(1,"p",8),s.Wb(2,"div",9),s.Wb(3,"img",10),s.ec("dragstart",(function(){s.vc(e);const r=t.$implicit;return s.hc(2).dragstart(r.img)})),s.Vb(),s.Vb(),s.Vb()}if(2&e){const e=t.$implicit,r=s.hc(2);s.Cb(1),s.kc("innerHTML",e.value,s.wc),s.Cb(2),s.kc("src",r.resourceLoadsService.getExerciseImage(e.img),s.xc)}}function d(e,t){if(1&e){const e=s.Xb();s.Wb(0,"img",13),s.ec("dragstart",(function(){s.vc(e);const t=s.hc().index;return s.hc(2).dragOptionsStart(t)})),s.Vb()}if(2&e){const e=s.hc().$implicit,t=s.hc(2);s.kc("src",t.resourceLoadsService.getExerciseImage(e.img),s.xc)}}function p(e,t){if(1&e){const e=s.Xb();s.Wb(0,"div",11),s.ec("dragleave",(function(t){return s.vc(e),s.hc(2).dragleaveOptions(t.target)}))("dragover",(function(t){return s.vc(e),s.hc(2).dragoverOptions(t)}))("dragenter",(function(t){return s.vc(e),s.hc(2).dragenterOptions(t)}))("drop",(function(r){s.vc(e);const n=t.index;return s.hc(2).dropOptions(r.target,n)})),s.Dc(1),s.Cc(2,d,1,1,"img",12),s.Vb()}if(2&e){const e=t.$implicit;s.Gb("drag-options__elem","item"===e.type)("drag-options__symbol","item"!==e.type)("correct-exercise-answer","item"===e.type&&e.IsCorrect)("incorrect-exercise-answer","item"===e.type&&null!==e.IsCorrect&&!e.IsCorrect),s.Cb(1),s.Fc(" ","item"!==e.type?e:"\xa0"," "),s.Cb(1),s.kc("ngIf",e.img)}}function u(e,t){if(1&e&&(s.Wb(0,"div",1),s.Wb(1,"div",2),s.Cc(2,g,4,2,"div",3),s.Vb(),s.Rb(3,"div",4),s.Wb(4,"div",5),s.Cc(5,p,3,10,"div",6),s.Vb(),s.Vb()),2&e){const e=s.hc();s.Cb(2),s.kc("ngForOf",e.dragImagesSequenceArray),s.Cb(1),s.kc("innerHTML",e.Subtitle,s.wc),s.Cb(2),s.kc("ngForOf",e.optionsArray)}}Object(o.polyfill)();let l=(()=>{class e{constructor(e,t){this.exerciseDataService=e,this.resourceLoadsService=t,this.optionsArray=[]}ngOnChanges(){if(this.list.sort((e,t)=>e.Order-t.Order),this.isCorrectValues)return void this.list.forEach(e=>{this.optionsArray.forEach(t=>{"item"===t.type&&t.order===e.Order&&(t.IsCorrect=e.IsCorrect,t.img=e.CorrectValue)})});const e=[],t=[];this.list.forEach(r=>{const n={CorrectValue:null,IsCorrect:null,value:r.Value,img:null,order:r.Order?r.Order:null};"Subtitle"===r.Metric&&(this.Subtitle=r.Value),"ImageName"===r.Metric&&e.push(n),"Sentence"===r.Metric&&t.push(n)});const r=[];e.forEach((t,n)=>{r.push({type:"item",img:null,order:n+1,IsCorrect:null}),n!==e.length-1&&r.push("<")});const n=[];e.forEach(e=>{t.forEach(t=>{e.order===t.order&&(t.img=e.value,n.push(t))})}),this.dragImagesSequenceArray=n,this.optionsArray=r}dragstart(e){this.startImg=e}dragOptionsStart(e){this.startImg=this.optionsArray[e].img,this.saveStartOptionNumber=e}dropOptions(e,t){this.optionsArray[t].img=this.startImg,this.saveStartOptionNumber===t||!this.saveStartOptionNumber&&0!==this.saveStartOptionNumber||(this.optionsArray[this.saveStartOptionNumber].img=null,this.saveStartOptionNumber=null),e.classList.remove("drag_active-option"),this.optionsArray.forEach(e=>{this.getUserResult(e.img,e.order)})}dragoverOptions(e){e.preventDefault()}dragenterOptions(e){e.preventDefault(),e.target.classList.add("drag_active-option")}dragleaveOptions(e){e.classList.remove("drag_active-option")}getUserResult(e,t){this.exerciseDataService.subject.next({Type:"DragImagesToSequence",Order:this.Order,Data:{Order:t,Value:e}})}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(a.a),s.Qb(c.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-drag-images-to-sequence"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[s.Ab],decls:1,vars:1,consts:[["class","drag-images-sequence__wrapper d-flex flex-column align-items-center",4,"ngIf"],[1,"drag-images-sequence__wrapper","d-flex","flex-column","align-items-center"],[1,"drag-sequence__wrapper"],["class","drag-sequence-container d-flex align-items-center justify-content-end",4,"ngFor","ngForOf"],[1,"drag-sequence__subtitle","main-f-size","mt-auto",3,"innerHTML"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap","mt-2"],["class","drag-options__option text-center",3,"drag-options__elem","drag-options__symbol","correct-exercise-answer","incorrect-exercise-answer","dragleave","dragover","dragenter","drop",4,"ngFor","ngForOf"],[1,"drag-sequence-container","d-flex","align-items-center","justify-content-end"],[1,"drag-sequence__question","main-f-size",3,"innerHTML"],[1,"drag-sequence__img-wrapper"],["draggable","true",1,"drag-sequence__img",3,"src","dragstart"],[1,"drag-options__option","text-center",3,"dragleave","dragover","dragenter","drop"],["draggable","true","class","options-img",3,"src","dragstart",4,"ngIf"],["draggable","true",1,"options-img",3,"src","dragstart"]],template:function(e,t){1&e&&s.Cc(0,u,6,3,"div",0),2&e&&s.kc("ngIf",t.dragImagesSequenceArray)},directives:[n.j,n.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.drag-sequence-container[_ngcontent-%COMP%]{margin:1vh 0}.drag-sequence__img-wrapper[_ngcontent-%COMP%]{border-radius:10vh;margin-left:2vw;width:4vw}.drag-sequence__img[_ngcontent-%COMP%]{width:100%;cursor:-webkit-grab;cursor:grab}.options-img[_ngcontent-%COMP%]{max-width:2.5vw;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{width:100%}.drag-options__symbol[_ngcontent-%COMP%]{background:#11afa9;color:#fff;width:4vw;margin-left:1vw;margin-right:1vw;line-height:1;pointer-events:none;line-height:0}.drag-options__elem[_ngcontent-%COMP%], .drag-options__symbol[_ngcontent-%COMP%]{border-radius:10vh;display:flex;align-items:center;justify-content:center;margin-bottom:1vh}.drag-options__elem[_ngcontent-%COMP%]{position:relative;min-width:100px;width:10vw;padding:1vh 1vw;max-height:100%}.drag-options__elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab;border-radius:10vh;z-index:-1}.drag_active-option[_ngcontent-%COMP%]:before{animation:swap_option .5s infinite alternate-reverse;background:none}@-webkit-keyframes swap_option{0%{opacity:0}to{opacity:1}}@keyframes swap_option{0%{opacity:0}to{opacity:1}}']}),e})(),m=(()=>{class e{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(l)}}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)(s.ac(s.j))},imports:[[n.b,i.n]]}),e})()}}]);