function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"+Ae1":function(t,e,a){"use strict";a.r(e),a.d(e,"DragOptionsComponent",(function(){return c})),a.d(e,"DragOptionsModule",(function(){return v}));var o=a("ofXK"),n=a("3Pt+"),i=a("Amjd"),s=a("fXoL"),r=a("XCOF"),l=["optionsWrapper"];function u(t,e){if(1&t){var a=s.Xb();s.Wb(0,"div",5),s.ec("dragenter",(function(t){return s.vc(a),s.hc().dragenter(t)}))("drop",(function(t){s.vc(a);var o=e.index;return s.hc().drop(t.target,o)}))("dragover",(function(t){s.vc(a);var o=e.index;return s.hc().dragover(t,o)}))("dragleave",(function(t){return s.vc(a),s.hc().dragLeaveDefault(t.target)})),s.Wb(1,"div",6),s.ec("dragstart",(function(t){s.vc(a);var o=e.index;return s.hc().dragstart(t.target,o)})),s.Dc(2),s.Vb(),s.Vb()}if(2&t){var o=e.$implicit;s.Gb("drag-options__symbol","symbol"===o.isDefault)("drag-options__elem",!o.value),s.Cb(1),s.Gb("drag-options__option","option"===o.isDefault)("correct-exercise-answer",o.IsCorrect)("incorrect-exercise-answer",null!==o.IsCorrect&&!o.IsCorrect),s.Cb(1),s.Fc(" ",o.value?o.value:"\xa0"," ")}}function p(t,e){if(1&t){var a=s.Xb();s.Wb(0,"div",7),s.ec("dragstart",(function(t){s.vc(a);var o=e.index;return s.hc().dragOptionsStart(t.target,o)}))("dragenter",(function(t){return s.vc(a),s.hc().dragenterOptions(t)})),s.Dc(1),s.Vb()}if(2&t){var o=e.$implicit;s.Cb(1),s.Fc(" ",o," ")}}Object(i.polyfill)();var c=function(){var t=function(){function t(e){_classCallCheck(this,t),this.exerciseDataService=e,this.saveDefaultStartPosition=null}return _createClass(t,[{key:"ngOnChanges",value:function(){var t=this;if(this.list.sort((function(t,e){return t.Order-e.Order})),this.isCorrectValues)this.list.forEach((function(e){t.defaultValues[e.Order-1].value=e.CorrectValue,t.defaultValues[e.Order-1].IsCorrect=e.IsCorrect,t.defaultValues[e.Order-1].isDefault="option",t.options=[]}));else{var e=[],a=[{value:null,order:null,isDefault:null,IsCorrect:null}];this.list.forEach((function(t){"Option"===t.Metric&&e.push(t.Value),"DefaultValue"===t.Metric&&(a.push({value:t.Value,order:t.Order,isDefault:"symbol",IsCorrect:null}),a.push({value:null,order:null,isDefault:null,IsCorrect:null}))})),this.options=e,this.defaultValues=a}}},{key:"drop",value:function(t,e){var a=this;this.saveEventElem&&this.saveEventElem.classList.remove("swap_option"),t.classList.remove("swap_option"),this.isDefaultOptionLeave||this.isDefaultValueNotEmpty||!this.isStartFromOptions||(this.defaultValues[e].value=this.saveOptionValue,this.defaultValues[e].isDefault="option",this.options.splice(this.saveOptionPosition,1)),!this.isDefaultOptionLeave&&this.isDefaultValueNotEmpty&&this.isStartFromOptions&&(this.defaultValues[e].value=this.saveOptionValue,this.options.splice(this.saveOptionPosition,1),this.options.splice(this.saveOptionPosition,0,this.saveBeforeDropValue)),!this.isDefaultOptionLeave||this.isDefaultValueNotEmpty||this.isStartFromOptions||(this.defaultValues[e].value=this.saveOptionLeaveValue,this.defaultValues[e].isDefault="option",this.defaultValues[this.saveDefaultStartPosition].value=null,this.defaultValues[this.saveDefaultStartPosition].isDefault=!1),this.isDefaultValueNotEmpty&&!this.isStartFromOptions&&(this.defaultValues[e].value=this.saveOptionLeaveValue,this.defaultValues[this.saveDefaultStartPosition].value=this.saveBeforeDropValue),t.classList.remove("drag_active"),t.classList.remove("drag_active-option"),this.saveEventElem&&null!==this.saveDefaultStartPosition&&this.defaultValues[this.saveDefaultStartPosition].value&&(this.saveEventElem.classList.add("swap_option"),t.classList.add("swap_option"),setTimeout((function(){a.saveEventElem.classList.remove("swap_option"),t.classList.remove("swap_option"),a.saveEventElem=null}),300)),this.defaultValues.forEach((function(t,e){"symbol"!==t.isDefault&&t.value&&a.getUserResult(t.value,e)}))}},{key:"dragenter",value:function(t){t.preventDefault(),t.target.classList.add("drag_active"),t.target!==this.saveEventElem&&t.target.classList.add("drag_active-option")}},{key:"dragstart",value:function(t,e){this.saveEventElem=t,this.isDefaultOptionLeave=!0,this.isStartFromOptions=!1,this.saveOptionLeaveValue=this.defaultValues[e].value,this.saveDefaultStartPosition=e}},{key:"dragLeaveDefault",value:function(t){t.classList.remove("drag_active"),t.classList.remove("drag_active-option")}},{key:"dragover",value:function(t,e){t.preventDefault(),this.defaultValues[e].value?(this.isDefaultValueNotEmpty=!0,this.saveBeforeDropValue=this.defaultValues[e].value):this.isDefaultValueNotEmpty=!1}},{key:"dragOptionsStart",value:function(t,e){this.saveOptionPosition=e,this.isDefaultOptionLeave=!1,this.isStartFromOptions=!0,this.saveOptionValue=this.options[e],this.saveEventElem=t,t.classList.remove("swap_option")}},{key:"dropOptions",value:function(){var t=this;this.isStartFromOptions||(this.defaultValues[this.saveDefaultStartPosition].value=null,this.defaultValues[this.saveDefaultStartPosition].isDefault=!1,this.options.push(this.saveOptionLeaveValue),this.defaultValues.forEach((function(e,a){e.value||t.getUserResult(null,a)}))),this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}},{key:"dragoverOptions",value:function(t){t.preventDefault(),this.isStartFromOptions||this.optionsWrapper.nativeElement.classList.add("options-wrapper_active")}},{key:"dragenterOptions",value:function(t){t.preventDefault()}},{key:"dragleaveOptions",value:function(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}},{key:"getUserResult",value:function(t,e){this.exerciseDataService.subject.next({Type:"DragOptions",Order:this.Order,Data:{Order:e+1,Value:t}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-drag-options"]],viewQuery:function(t,e){var a;1&t&&s.Hc(l,!0),2&t&&s.rc(a=s.fc())&&(e.optionsWrapper=a.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[s.Ab],decls:6,vars:5,consts:[[1,"default-elems-wrapper","d-flex","flex-wrap","align-items-center"],["class","main-f-size text-center default-elem",3,"drag-options__symbol","drag-options__elem","dragenter","drop","dragover","dragleave",4,"ngFor","ngForOf"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap","mt-2",3,"drop","dragover","dragenter","dragleave"],["optionsWrapper",""],["class","drag-options__option text-center swap_option","draggable","true",3,"dragstart","dragenter",4,"ngFor","ngForOf"],[1,"main-f-size","text-center","default-elem",3,"dragenter","drop","dragover","dragleave"],["draggable","true",1,"default-elem__option",3,"dragstart"],["draggable","true",1,"drag-options__option","text-center","swap_option",3,"dragstart","dragenter"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Cc(1,u,3,11,"div",1),s.Vb(),s.Wb(2,"div",2,3),s.ec("drop",(function(){return e.dropOptions()}))("dragover",(function(t){return e.dragoverOptions(t)}))("dragenter",(function(t){return e.dragenterOptions(t)}))("dragleave",(function(){return e.dragleaveOptions()})),s.Dc(4),s.Cc(5,p,2,1,"div",4),s.Vb()),2&t&&(s.Cb(1),s.kc("ngForOf",e.defaultValues),s.Cb(1),s.Gb("options-wrapper_empty",!e.options.length),s.Cb(2),s.Fc(" ",e.options.length?null:"\xa0"," "),s.Cb(1),s.kc("ngForOf",e.options))},directives:[o.i],styles:['[_nghost-%COMP%]{width:100%}.drag-options__elem[_ngcontent-%COMP%]:before, .drag-options__option[_ngcontent-%COMP%], .drag-options__symbol[_ngcontent-%COMP%], .swap_option[_ngcontent-%COMP%]{border-radius:10vh}.drag-options__elem[_ngcontent-%COMP%], .drag-options__option[_ngcontent-%COMP%]{width:10vw;min-width:100px}.drag-options__symbol[_ngcontent-%COMP%]{background:#11afa9;color:#fff;width:5vw;margin-left:1vw;margin-right:1vw;line-height:1;pointer-events:none}.default-elem__option[_ngcontent-%COMP%]{padding:1.5vh 0}.default-elem[_ngcontent-%COMP%]{line-height:1;margin-top:1vh;margin-bottom:1vh}.drag-options__elem[_ngcontent-%COMP%]{position:relative}.drag-options__elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab}.drag-options__option.drag_active-option[_ngcontent-%COMP%]{animation:swap_option .5s infinite alternate-reverse}.drag-options__option[_ngcontent-%COMP%]:active{opacity:.6}.drag-options__option[_ngcontent-%COMP%]{background:#ff712c;color:#fff;padding:1.5vh 0;line-height:1;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{border-radius:5vh;border:.2vw dashed transparent;padding:.1vh 1vw}.options-wrapper_empty[_ngcontent-%COMP%]{padding:1.5vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]{margin:1vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]:not(:last-child){margin-right:1%}.swap_option[_ngcontent-%COMP%]{-webkit-animation:swap_option .3s;animation:swap_option .3s}.options-wrapper.options-wrapper_active[_ngcontent-%COMP%]{border-color:#afabab}@-webkit-keyframes swap_option{0%{background:#fff}to{background:#ff712c}}@keyframes swap_option{0%{background:#fff}to{background:#ff712c}}']}),t}(),v=function(){var t=function(){function t(e){_classCallCheck(this,t),this.componentFactoryResolver=e}return _createClass(t,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(c)}}]),t}();return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)(s.ac(s.j))},imports:[[o.b,n.n]]}),t}()}}]);