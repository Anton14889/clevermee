(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{sN1w:function(r,t,e){"use strict";e.r(t),e.d(t,"CrosswordComponent",(function(){return f})),e.d(t,"CrosswordModule",(function(){return p}));var o=e("ofXK"),s=e("3Pt+"),i=e("fXoL"),n=e("XCOF"),l=e("+WDe");function u(r,t){if(1&r){const r=i.Xb();i.Wb(0,"span",7),i.ec("mouseover",(function(t){i.vc(r);const e=i.hc().$implicit;return i.hc(2).tooltip.showTooltip({text:e.tooltipText},"default",t.target)}))("mouseout",(function(){return i.vc(r),i.hc(3).tooltip.hideTooltip()})),i.Dc(1),i.Vb()}if(2&r){const r=i.hc().$implicit;i.kc("id",r.order),i.Cb(1),i.Fc(" ",r.startNumber," ")}}function a(r,t){if(1&r){const r=i.Xb();i.Wb(0,"input",8),i.ec("input",(function(t){i.vc(r);const e=i.hc(),o=e.$implicit,s=e.index,n=i.hc().index;return i.hc().oneLetter(t.target,o,n,s)})),i.Vb()}if(2&r){const r=i.hc().$implicit;i.Gb("correct-exercise-answer",r.IsCorrect&&!r.defaultValue)("input-disabled",r.defaultValue)("incorrect-exercise-answer",null!==r.IsCorrect&&!r.IsCorrect&&!r.defaultValue),i.kc("disabled",r.CorrectValue||r.defaultValue)("value",r.CorrectValue||r.defaultValue)("id",r.order)}}function c(r,t){if(1&r&&(i.Wb(0,"td",4),i.Cc(1,u,2,2,"span",5),i.Cc(2,a,1,9,"input",6),i.Vb()),2&r){const r=t.$implicit;i.Gb("crossword__td--active",r.inputSize&&!r.startNumber),i.Cb(1),i.kc("ngIf",r.startNumber),i.Cb(1),i.kc("ngIf",r.inputSize&&!r.startNumber)}}function d(r,t){if(1&r&&(i.Wb(0,"tr",2),i.Cc(1,c,3,4,"td",3),i.Vb()),2&r){const r=t.$implicit;i.Cb(1),i.kc("ngForOf",r)}}let f=(()=>{class r{constructor(r,t){this.exerciseDataService=r,this.tooltip=t}ngOnChanges(){if(this.list.sort((r,t)=>r.Order-t.Order),this.isCorrectValues)return void this.list.forEach(r=>{this.CrosswordGrid.forEach((t,e)=>{t.forEach((t,o)=>{if(t.startNumber&&t.startNumber==r.Order){if("True"===t.isHorizontal){let s=t.inputSize,i=1,n=0;for(;s>0;)this.CrosswordGrid[e][o+i].IsCorrect=!0===this.CrosswordGrid[e][o+i].IsCorrect?this.CrosswordGrid[e][o+i].IsCorrect:r.IsCorrect,this.CrosswordGrid[e][o+i++].CorrectValue=r.CorrectValue.split("")[n++],--s}if("False"===t.isHorizontal){let s=t.inputSize,i=e+1,n=0;for(;s>0;)this.CrosswordGrid[i][o].IsCorrect=!0===this.CrosswordGrid[i][o].IsCorrect?this.CrosswordGrid[i][o].IsCorrect:r.IsCorrect,this.CrosswordGrid[i++][o].CorrectValue=r.CorrectValue.split("")[n++],--s}}})})});let r,t;const e=[],o=[],s=[],i=[],n=[];this.list.forEach(l=>{const u={CorrectValue:null,IsCorrect:null,defaultValue:l.Value,order:l.Order};"Rows"===l.Metric&&(r=+l.Value),"DefaultValue"===l.Metric&&(u.defaultValue.toUpperCase(),n.push(u)),"Columns"===l.Metric&&(t=+l.Value),"InputSize"===l.Metric&&o.push(u),"IsHorizontal"===l.Metric&&s.push(u),"Number"===l.Metric&&i.push(u),"TooltipText"===l.Metric&&e.push(u)});let l=0,u=r;const a=[];let c=0;for(;u>0;){a.push([]);let r=t;for(;r>0;){const t={CorrectValue:null,IsCorrect:null,defaultValue:null,value:null,numberOrder:null,order:++l,isHorizontal:null,inputSize:null,startNumber:null,tooltipText:null};i.forEach(r=>{e.forEach(e=>{l===r.order&&l===e.order&&(t.startNumber=r.defaultValue,t.tooltipText=e.defaultValue)})}),a[c].push(t),r--}u--,c++}a.forEach((r,e)=>{r.forEach((r,i)=>{if(r.startNumber)for(const l of o)for(const o of s)if(l.order==o.order&&r.startNumber==o.order){let s;r.isHorizontal=o.defaultValue;for(const t of n)t.order==r.startNumber&&(s=t.defaultValue);if("True"===r.isHorizontal){r.inputSize=l.defaultValue;let o=l.defaultValue,n=1;for(;o>0;)s&&(a[e][i+n].defaultValue=s[s.length-o],a[e][i+n].value=s[s.length-o]),a[e][i+n].numberOrder=e*t+(i+1),a[e][i+n++].inputSize=l.defaultValue,--o}if("False"===r.isHorizontal){r.inputSize=l.defaultValue;let o=l.defaultValue,n=e+1;for(;o>0;)s&&(a[n][i].defaultValue=s[s.length-o],a[n][i].value=s[s.length-o]),a[n][i].numberOrder=e*t+(i+1),a[n++][i].inputSize=l.defaultValue,--o}break}})}),this.CrosswordGrid=a}getUserResult(r){const t={Type:"Crossword",Order:this.Order,Data:{Order:null,Value:null}};let e="";for(let o=0;o<this.CrosswordGrid.length;o++)for(let s=0;s<this.CrosswordGrid[o].length;s++)if(this.CrosswordGrid[o][s].startNumber&&this.CrosswordGrid[o][s].order===r.numberOrder){if(t.Data.Order=this.CrosswordGrid[o][s].startNumber,"True"===this.CrosswordGrid[o][s].isHorizontal){let r=this.CrosswordGrid[o][s].inputSize,t=1;for(;r>0;)e+=this.CrosswordGrid[o][s+t].value?this.CrosswordGrid[o][s+t].value:"",t++,--r}if("False"===this.CrosswordGrid[o][s].isHorizontal){let r=this.CrosswordGrid[o][s].inputSize,t=o+1;for(;r>0;)e+=this.CrosswordGrid[t][s].value?this.CrosswordGrid[t][s].value:"",t++,--r}break}t.Data.Value=e,this.exerciseDataService.subject.next(t)}oneLetter(r,t,e,o){r.value.length&&(r.value=r.value[r.value.length-1].toUpperCase()),this.CrosswordGrid[e][o].value=r.value,this.getUserResult(t)}}return r.\u0275fac=function(t){return new(t||r)(i.Qb(n.a),i.Qb(l.a))},r.\u0275cmp=i.Kb({type:r,selectors:[["app-crossword"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[i.Ab],decls:2,vars:1,consts:[[1,"crossword__table","m-auto",3,"resize"],["class","crossword__tr",4,"ngFor","ngForOf"],[1,"crossword__tr"],["class","crossword__td",3,"crossword__td--active",4,"ngFor","ngForOf"],[1,"crossword__td"],["class","crossword__number big-f-size",3,"id","mouseover","mouseout",4,"ngIf"],["type","text","class","crossword__input text-center  big-f-size",3,"correct-exercise-answer","disabled","input-disabled","incorrect-exercise-answer","value","id","input",4,"ngIf"],[1,"crossword__number","big-f-size",3,"id","mouseover","mouseout"],["type","text",1,"crossword__input","text-center","big-f-size",3,"disabled","value","id","input"]],template:function(r,t){1&r&&(i.Wb(0,"table",0),i.ec("resize",(function(){return t.tooltip.hideTooltip()}),!1,i.uc),i.Cc(1,d,2,1,"tr",1),i.Vb()),2&r&&(i.Cb(1),i.kc("ngForOf",t.CrosswordGrid))},directives:[o.i,o.j],styles:[".crossword__td[_ngcontent-%COMP%]{width:2.5vw;height:2.5vw}.crossword__td--active[_ngcontent-%COMP%]{border:1px solid #be9a02;background:#feeb9b}.crossword__input[_ngcontent-%COMP%]{background:none;border:none;outline:none;width:100%;height:100%;padding:0!important;text-transform:uppercase}.crossword__number[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:90%;height:90%;margin:auto;background:#11afa9;border-radius:50%;color:#fff;cursor:pointer}.tooltip-wrapper[_ngcontent-%COMP%]{overflow:visible;opacity:0;z-index:1;transform:translate(-3em,-3.5em)}.reverse-tooltip[_ngcontent-%COMP%]{transform:rotate(0) rotateX(0)}.crossword__td[_ngcontent-%COMP%]:hover > .tooltip-wrapper[_ngcontent-%COMP%]{opacity:1}.tooltip-wrapper[_ngcontent-%COMP%]:after{left:5em;transform:rotate(0) rotateX(0)}"]}),r})(),p=(()=>{class r{constructor(r){this.componentFactoryResolver=r}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(f)}}return r.\u0275mod=i.Ob({type:r}),r.\u0275inj=i.Nb({factory:function(t){return new(t||r)(i.ac(i.j))},imports:[[o.b,s.n]]}),r})()}}]);