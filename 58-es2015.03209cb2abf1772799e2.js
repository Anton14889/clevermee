(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{l94h:function(e,t,o){"use strict";o.r(t),o.d(t,"PaintTableComponent",(function(){return f})),o.d(t,"PaintTableModule",(function(){return h}));var n=o("ofXK"),r=o("3Pt+"),i=o("fXoL"),c=o("XCOF"),l=o("TznM");const a=["mouseColorElem"],s=["leftWrapper"];function u(e,t){if(1&e){const e=i.Xb();i.Wb(0,"td",17),i.ec("click",(function(o){i.vc(e);const n=t.$implicit,r=i.hc(3);return[r.addTableTdColor(o.target),r.getUserResult(n.order)]})),i.Dc(1),i.Vb()}if(2&e){const e=t.$implicit,o=i.hc(3);i.Gb("pointer",o.tableCellColor)("correct-exercise-answer",e.isCorrect)("incorrect-exercise-answer",null!==e.isCorrect&&!e.isCorrect),i.Cb(1),i.Ec(e.value)}}function b(e,t){if(1&e&&(i.Wb(0,"tr",15),i.Cc(1,u,2,7,"td",16),i.Vb()),2&e){const e=t.$implicit;i.Cb(1),i.kc("ngForOf",e)}}function d(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",18),i.ec("click",(function(o){i.vc(e);const n=t.index;return i.hc(2).addActiveClass(o.target,n)})),i.Vb()}2&e&&i.Bc("background",t.$implicit.color,i.Jb)}function p(e,t){if(1&e&&(i.Wb(0,"div",19),i.Dc(1),i.Vb()),2&e){const e=t.$implicit;i.Cb(1),i.Ec(e.value)}}function g(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",1),i.Wb(1,"div",2,3),i.ec("mousemove",(function(t){return i.vc(e),i.hc().mouseColor(t)}))("touchmove",(function(t){return i.vc(e),i.hc().mouseColor(t)})),i.Wb(3,"table",4),i.Cc(4,b,2,1,"tr",5),i.Vb(),i.Wb(5,"div",6),i.Wb(6,"div",7),i.Wb(7,"div",8),i.Rb(8,"img",9),i.Vb(),i.Cc(9,d,1,2,"div",10),i.Vb(),i.Vb(),i.Rb(10,"div",11,12),i.Vb(),i.Wb(12,"div",13),i.Cc(13,p,2,1,"div",14),i.Vb(),i.Vb()}if(2&e){const e=i.hc();i.Cb(4),i.kc("ngForOf",e.TableArray),i.Cb(4),i.kc("src",e.imgSrc,i.xc),i.Cb(1),i.kc("ngForOf",e.colors),i.Cb(1),i.Bc("background",e.tableCellColor,i.Jb),i.Gb("mouse-color_border",e.tableCellColor),i.Cb(3),i.kc("ngForOf",e.OptionsValues)}}let f=(()=>{class e{constructor(e,t){this.exerciseDataService=e,this.resourceLoadsService=t,this.colors=[{color:"#10afaa",bucketImg:"BucketBlue"},{color:"#ff712d",bucketImg:"BucketOrange"},{color:"#a64ac9",bucketImg:"BucketPurple"},{color:"#fccd05",bucketImg:"BucketYellow"}],this.imgSrc=t.getExerciseImage(this.colors[0].bucketImg)}ngOnChanges(){if(this.list.sort((e,t)=>e.Order-t.Order),this.isCorrectValues)return void this.list.forEach(e=>{this.TableArray.forEach(t=>{t.forEach(t=>{t.order===e.Order&&(t.isCorrect=e.IsCorrect)})})});const e=[],t=[[],[]];this.list.forEach(o=>{const n={order:null,value:null,CorrectValue:null,isCorrect:null};"OptionValue"===o.Metric&&(n.value=o.Value,n.order=o.Order,e.push(n)),"TableValue"===o.Metric&&(n.value=o.Value,n.order=o.Order,t[0].length<2?t[0].push(n):t[1].push(n))}),this.TableArray=t,this.OptionsValues=e}addActiveClass(e,t){const o=document.getElementsByClassName("paint-table-color");Array.from(o).forEach(e=>{e.classList.remove("paint-table-color-active")}),e.classList.add("paint-table-color-active"),this.imgSrc=this.resourceLoadsService.getExerciseImage(this.colors[t].bucketImg),this.tableCellColor=this.colors[t].color,this.colorOrder=t+1,("ontouchstart"in window||navigator.msMaxTouchPoints)&&(this.mouseColorElem.nativeElement.style.display="none")}addTableTdColor(e){this.tableCellColor&&(e.style.color="#fff",e.style.background=this.tableCellColor)}mouseColor(e){if(e.clientX>this.leftWrapper.nativeElement.getBoundingClientRect().right)return;const t=e.clientX-this.leftWrapper.nativeElement.getBoundingClientRect().left,o=e.clientY-this.leftWrapper.nativeElement.getBoundingClientRect().top,n=this.mouseColorElem.nativeElement.getBoundingClientRect().width;this.mouseColorElem.nativeElement.style.left=t+n+"px",this.mouseColorElem.nativeElement.style.top=o+"px"}getUserResult(e){this.colorOrder&&this.exerciseDataService.subject.next({Type:"PaintTable",Order:this.Order,Data:{Order:e,Value:this.OptionsValues[this.colorOrder-1].value}})}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(c.a),i.Qb(l.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-paint-table"]],viewQuery:function(e,t){var o;1&e&&(i.Hc(a,!0),i.Hc(s,!0)),2&e&&(i.rc(o=i.fc())&&(t.mouseColorElem=o.first),i.rc(o=i.fc())&&(t.leftWrapper=o.first))},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[i.Ab],decls:1,vars:1,consts:[["class","paint-wrapper d-flex justify-content-between",4,"ngIf"],[1,"paint-wrapper","d-flex","justify-content-between"],[1,"paint-table__left",3,"mousemove","touchmove"],["leftWrapper",""],[1,"paint-table"],["class","paint-table__tr",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"paint-table-colors-wrapper","d-flex"],[1,"bucket-img-wrapper"],[1,"bucket__img",3,"src"],["class","paint-table-color",3,"background","click",4,"ngFor","ngForOf"],[1,"mouse-color"],["mouseColorElem",""],[1,"paint-table__right"],["class","paint-table__option-value big-f-size",4,"ngFor","ngForOf"],[1,"paint-table__tr"],["class","paint-table__td text-center big-f-size",3,"pointer","correct-exercise-answer","incorrect-exercise-answer","click",4,"ngFor","ngForOf"],[1,"paint-table__td","text-center","big-f-size",3,"click"],[1,"paint-table-color",3,"click"],[1,"paint-table__option-value","big-f-size"]],template:function(e,t){1&e&&i.Cc(0,g,14,8,"div",0),2&e&&i.kc("ngIf",t.TableArray)},directives:[n.j,n.i],styles:["[_nghost-%COMP%]{width:100%}.paint-table__left[_ngcontent-%COMP%], .paint-table__right[_ngcontent-%COMP%]{width:100%;margin:auto}.paint-table__left[_ngcontent-%COMP%]{margin-right:4vw;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.paint-table[_ngcontent-%COMP%]{margin:0 auto 3vh;background:#f2f2f2}.paint-table__td[_ngcontent-%COMP%]{border:.1vw solid #000;padding:1vw;width:50%;transition:background .2s}.paint-table-colors-wrapper[_ngcontent-%COMP%]{background:#dad8d9;padding:1vw 1.5vw;border-radius:10vh;margin:auto}.bucket-img-wrapper[_ngcontent-%COMP%], .paint-table-color[_ngcontent-%COMP%]{width:3vw;height:3vw;margin-right:1vw}.paint-table-color[_ngcontent-%COMP%]:last-child{margin-right:0}.bucket__img[_ngcontent-%COMP%]{width:100%;height:100%}.paint-table-color[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer}.paint-table-color-active[_ngcontent-%COMP%]{border:.3vw solid #4d4d4d}.mouse-color[_ngcontent-%COMP%]{padding:1vh;position:absolute}.mouse-color_border[_ngcontent-%COMP%]{border:.1vw solid #fff}.paint-table__right[_ngcontent-%COMP%]{padding:1vw}.paint-table__option-value[_ngcontent-%COMP%]{border-radius:100px;display:flex;justify-content:center;align-items:center;padding:1vh 2vw;text-align:center;color:#fff;font-size:calc(1vh + .5vw);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;width:100%}.paint-table__option-value[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2vh}.paint-table__option-value[_ngcontent-%COMP%]:first-child{background:#10afaa}.paint-table__option-value[_ngcontent-%COMP%]:nth-child(2){background:#ff712d}.paint-table__option-value[_ngcontent-%COMP%]:nth-child(3){background:#a64ac9}.paint-table__option-value[_ngcontent-%COMP%]:nth-child(4){background:#fccd05}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),h=(()=>{class e{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(f)}}return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(t){return new(t||e)(i.ac(i.j))},imports:[[n.b,r.n]]}),e})()}}]);