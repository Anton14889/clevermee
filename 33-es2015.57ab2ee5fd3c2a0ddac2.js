(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"+Ae1":function(t,e,o){"use strict";o.r(e),o.d(e,"DragOptionsComponent",(function(){return c})),o.d(e,"DragOptionsModule",(function(){return d}));var a=o("ofXK"),s=o("3Pt+"),i=o("Amjd"),n=o("fXoL"),r=o("XCOF");const l=["optionsWrapper"];function p(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",5),n.ec("dragenter",(function(e){return n.vc(t),n.hc().dragenter(e)}))("drop",(function(o){n.vc(t);const a=e.index;return n.hc().drop(o.target,a)}))("dragover",(function(o){n.vc(t);const a=e.index;return n.hc().dragover(o,a)}))("dragleave",(function(e){return n.vc(t),n.hc().dragLeaveDefault(e.target)})),n.Wb(1,"div",6),n.ec("dragstart",(function(o){n.vc(t);const a=e.index;return n.hc().dragstart(o.target,a)})),n.Dc(2),n.Vb(),n.Vb()}if(2&t){const t=e.$implicit;n.Gb("drag-options__symbol","symbol"===t.isDefault)("drag-options__elem",!t.value),n.Cb(1),n.Gb("drag-options__option","option"===t.isDefault)("correct-exercise-answer",t.IsCorrect)("incorrect-exercise-answer",null!==t.IsCorrect&&!t.IsCorrect),n.Cb(1),n.Fc(" ",t.value?t.value:"\xa0"," ")}}function u(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",7),n.ec("dragstart",(function(o){n.vc(t);const a=e.index;return n.hc().dragOptionsStart(o.target,a)}))("dragenter",(function(e){return n.vc(t),n.hc().dragenterOptions(e)})),n.Dc(1),n.Vb()}if(2&t){const t=e.$implicit;n.Cb(1),n.Fc(" ",t," ")}}Object(i.polyfill)();let c=(()=>{class t{constructor(t){this.exerciseDataService=t,this.saveDefaultStartPosition=null}ngOnChanges(){if(this.list.sort((t,e)=>t.Order-e.Order),this.isCorrectValues)return void this.list.forEach(t=>{this.defaultValues[t.Order-1].value=t.CorrectValue,this.defaultValues[t.Order-1].IsCorrect=t.IsCorrect,this.defaultValues[t.Order-1].isDefault="option",this.options=[]});const t=[],e=[{value:null,order:null,isDefault:null,IsCorrect:null}];this.list.forEach(o=>{"Option"===o.Metric&&t.push(o.Value),"DefaultValue"===o.Metric&&(e.push({value:o.Value,order:o.Order,isDefault:"symbol",IsCorrect:null}),e.push({value:null,order:null,isDefault:null,IsCorrect:null}))}),this.options=t,this.defaultValues=e}drop(t,e){this.saveEventElem&&this.saveEventElem.classList.remove("swap_option"),t.classList.remove("swap_option"),this.isDefaultOptionLeave||this.isDefaultValueNotEmpty||!this.isStartFromOptions||(this.defaultValues[e].value=this.saveOptionValue,this.defaultValues[e].isDefault="option",this.options.splice(this.saveOptionPosition,1)),!this.isDefaultOptionLeave&&this.isDefaultValueNotEmpty&&this.isStartFromOptions&&(this.defaultValues[e].value=this.saveOptionValue,this.options.splice(this.saveOptionPosition,1),this.options.splice(this.saveOptionPosition,0,this.saveBeforeDropValue)),!this.isDefaultOptionLeave||this.isDefaultValueNotEmpty||this.isStartFromOptions||(this.defaultValues[e].value=this.saveOptionLeaveValue,this.defaultValues[e].isDefault="option",this.defaultValues[this.saveDefaultStartPosition].value=null,this.defaultValues[this.saveDefaultStartPosition].isDefault=!1),this.isDefaultValueNotEmpty&&!this.isStartFromOptions&&(this.defaultValues[e].value=this.saveOptionLeaveValue,this.defaultValues[this.saveDefaultStartPosition].value=this.saveBeforeDropValue),t.classList.remove("drag_active"),t.classList.remove("drag_active-option"),this.saveEventElem&&null!==this.saveDefaultStartPosition&&this.defaultValues[this.saveDefaultStartPosition].value&&(this.saveEventElem.classList.add("swap_option"),t.classList.add("swap_option"),setTimeout(()=>{this.saveEventElem.classList.remove("swap_option"),t.classList.remove("swap_option"),this.saveEventElem=null},300)),this.defaultValues.forEach((t,e)=>{"symbol"!==t.isDefault&&t.value&&this.getUserResult(t.value,e)})}dragenter(t){t.preventDefault(),t.target.classList.add("drag_active"),t.target!==this.saveEventElem&&t.target.classList.add("drag_active-option")}dragstart(t,e){this.saveEventElem=t,this.isDefaultOptionLeave=!0,this.isStartFromOptions=!1,this.saveOptionLeaveValue=this.defaultValues[e].value,this.saveDefaultStartPosition=e}dragLeaveDefault(t){t.classList.remove("drag_active"),t.classList.remove("drag_active-option")}dragover(t,e){t.preventDefault(),this.defaultValues[e].value?(this.isDefaultValueNotEmpty=!0,this.saveBeforeDropValue=this.defaultValues[e].value):this.isDefaultValueNotEmpty=!1}dragOptionsStart(t,e){this.saveOptionPosition=e,this.isDefaultOptionLeave=!1,this.isStartFromOptions=!0,this.saveOptionValue=this.options[e],this.saveEventElem=t,t.classList.remove("swap_option")}dropOptions(){this.isStartFromOptions||(this.defaultValues[this.saveDefaultStartPosition].value=null,this.defaultValues[this.saveDefaultStartPosition].isDefault=!1,this.options.push(this.saveOptionLeaveValue),this.defaultValues.forEach((t,e)=>{t.value||this.getUserResult(null,e)})),this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}dragoverOptions(t){t.preventDefault(),this.isStartFromOptions||this.optionsWrapper.nativeElement.classList.add("options-wrapper_active")}dragenterOptions(t){t.preventDefault()}dragleaveOptions(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}getUserResult(t,e){this.exerciseDataService.subject.next({Type:"DragOptions",Order:this.Order,Data:{Order:e+1,Value:t}})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(r.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-drag-options"]],viewQuery:function(t,e){var o;1&t&&n.Hc(l,!0),2&t&&n.rc(o=n.fc())&&(e.optionsWrapper=o.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[n.Ab],decls:6,vars:5,consts:[[1,"default-elems-wrapper","d-flex","flex-wrap","align-items-center"],["class","main-f-size text-center default-elem",3,"drag-options__symbol","drag-options__elem","dragenter","drop","dragover","dragleave",4,"ngFor","ngForOf"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap","mt-2",3,"drop","dragover","dragenter","dragleave"],["optionsWrapper",""],["class","drag-options__option text-center swap_option","draggable","true",3,"dragstart","dragenter",4,"ngFor","ngForOf"],[1,"main-f-size","text-center","default-elem",3,"dragenter","drop","dragover","dragleave"],["draggable","true",1,"default-elem__option",3,"dragstart"],["draggable","true",1,"drag-options__option","text-center","swap_option",3,"dragstart","dragenter"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Cc(1,p,3,11,"div",1),n.Vb(),n.Wb(2,"div",2,3),n.ec("drop",(function(){return e.dropOptions()}))("dragover",(function(t){return e.dragoverOptions(t)}))("dragenter",(function(t){return e.dragenterOptions(t)}))("dragleave",(function(){return e.dragleaveOptions()})),n.Dc(4),n.Cc(5,u,2,1,"div",4),n.Vb()),2&t&&(n.Cb(1),n.kc("ngForOf",e.defaultValues),n.Cb(1),n.Gb("options-wrapper_empty",!e.options.length),n.Cb(2),n.Fc(" ",e.options.length?null:"\xa0"," "),n.Cb(1),n.kc("ngForOf",e.options))},directives:[a.i],styles:['[_nghost-%COMP%]{width:100%}.drag-options__elem[_ngcontent-%COMP%]:before, .drag-options__option[_ngcontent-%COMP%], .drag-options__symbol[_ngcontent-%COMP%], .swap_option[_ngcontent-%COMP%]{border-radius:10vh}.drag-options__elem[_ngcontent-%COMP%], .drag-options__option[_ngcontent-%COMP%]{width:10vw;min-width:100px}.drag-options__symbol[_ngcontent-%COMP%]{background:#11afa9;color:#fff;width:5vw;margin-left:1vw;margin-right:1vw;line-height:1;pointer-events:none}.default-elem__option[_ngcontent-%COMP%]{padding:1.5vh 0}.default-elem[_ngcontent-%COMP%]{line-height:1;margin-top:1vh;margin-bottom:1vh}.drag-options__elem[_ngcontent-%COMP%]{position:relative}.drag-options__elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab}.drag-options__option.drag_active-option[_ngcontent-%COMP%]{animation:swap_option .5s infinite alternate-reverse}.drag-options__option[_ngcontent-%COMP%]:active{opacity:.6}.drag-options__option[_ngcontent-%COMP%]{background:#ff712c;color:#fff;padding:1.5vh 0;line-height:1;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{border-radius:5vh;border:.2vw dashed transparent;padding:.1vh 1vw}.options-wrapper_empty[_ngcontent-%COMP%]{padding:1.5vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]{margin:1vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]:not(:last-child){margin-right:1%}.swap_option[_ngcontent-%COMP%]{-webkit-animation:swap_option .3s;animation:swap_option .3s}.options-wrapper.options-wrapper_active[_ngcontent-%COMP%]{border-color:#afabab}@-webkit-keyframes swap_option{0%{background:#fff}to{background:#ff712c}}@keyframes swap_option{0%{background:#fff}to{background:#ff712c}}']}),t})(),d=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(c)}}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(e){return new(e||t)(n.ac(n.j))},imports:[[a.b,s.n]]}),t})()}}]);