(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"1qfr":function(e,r,t){"use strict";t.r(r),t.d(r,"DragOptionsToComparisonComponent",(function(){return g})),t.d(r,"DragOptionsToComparisonModule",(function(){return f}));var o=t("ofXK"),n=t("3Pt+"),i=t("Amjd"),a=t("fXoL"),s=t("XCOF");const c=["optionsWrapper"],p=function(e){return{order:e}};function d(e,r){if(1&e){const e=a.Xb();a.Wb(0,"div",7),a.ec("dragenter",(function(r){return a.vc(e),a.hc(2).dragenter(r)}))("dragover",(function(r){a.vc(e);const t=a.hc().index;return a.hc().dragover(r,t)}))("drop",(function(t){a.vc(e);const o=r.index,n=r.$implicit,i=a.hc().index;return a.hc().drop(t.target,i,o,n.rowOrder)}))("dragleave",(function(r){return a.vc(e),a.hc(2).dragleave(r.target)})),a.Vb()}if(2&e){const e=r.$implicit;a.Gb("comparison","comparison"===e.type)("option","option"===e.type)("empty","option"===e.type&&!e.value)("correct-exercise-answer",e.IsCorrect)("incorrect-exercise-answer",null!==e.IsCorrect&&!e.IsCorrect),a.kc("ngStyle",a.nc(12,p,e.rowOrder))("innerHTML",e.value?e.value:"\xa0",a.wc)}}function l(e,r){if(1&e&&(a.Wb(0,"div",5),a.Cc(1,d,1,14,"div",6),a.Vb()),2&e){const e=r.$implicit;a.Cb(1),a.kc("ngForOf",e)}}function u(e,r){if(1&e){const e=a.Xb();a.Wb(0,"div",8),a.ec("dragstart",(function(r){return a.vc(e),a.hc().dragOptionsStart(r.target)}))("dragenter",(function(r){return a.vc(e),a.hc().dragenter(r)})),a.Dc(1),a.Vb()}if(2&e){const e=r.$implicit;a.Cb(1),a.Fc(" ",e.value," ")}}Object(i.polyfill)();let g=(()=>{class e{constructor(e){this.exerciseDataService=e,this.defaultValuesArray=[]}ngOnChanges(){if(this.list.sort((e,r)=>e.Order-r.Order),this.isCorrectValues)return void this.list.forEach(e=>{this.dragOptionsComparisonArray.forEach(r=>{r.forEach(r=>{"option"===r.type&&r.rowOrder===e.Order&&(r.value=e.CorrectValue,r.IsCorrect=e.IsCorrect)})})});const e=[],r=[],t=[],o=[];this.list.forEach(n=>{const i={order:n.Order,rowOrder:null,value:n.Value?n.Value:null,type:null,IsCorrect:null,CorrectValue:null};"DefaultValue"===n.Metric&&e.push(i),"Text1"===n.Metric&&(i.type="text",i.rowOrder=1,r.push(i)),"Text2"===n.Metric&&(i.type="text",i.rowOrder=2,r.push(i)),"Text3"===n.Metric&&(i.type="text",i.rowOrder=3,r.push(i)),"ComparisonValue1"===n.Metric&&(i.type="comparison",t.push(i)),"ComparisonValue2"===n.Metric&&(i.type="comparison",t.push(i)),"ComparisonValue3"===n.Metric&&(i.type="comparison",t.push(i)),"Option1"===n.Metric&&(i.type="option",i.rowOrder=1,o.push(i)),"Option2"===n.Metric&&(i.type="option",i.rowOrder=2,o.push(i)),"Option3"===n.Metric&&(i.type="option",i.rowOrder=3,o.push(i))});const n=[[],[],[]];r.forEach(e=>{1===e.order&&n[0].push(e),2===e.order&&n[1].push(e),3===e.order&&n[2].push(e)}),t.forEach(e=>{1===e.order&&n[0].push(e),2===e.order&&n[1].push(e),3===e.order&&n[2].push(e)}),o.forEach(e=>{1===e.order&&n[0].push(e),2===e.order&&n[1].push(e),3===e.order&&n[2].push(e)}),this.dragOptionsComparisonArray=n,this.defaultValuesArray=e}dragleave(e){e.classList.remove("swap_option")}drop(e,r,t,o){this.dragOptionsComparisonArray[r][t].value=this.startValue,e.classList.remove("swap_option"),e.classList.add("option_has-option"),this.getUserResult(this.startValue,o)}dragover(e,r){const t=e.target;t.classList.contains("option")&&(t.classList.add("swap_option"),e.preventDefault())}dragenter(e){e.preventDefault()}dragleaveOptions(){this.optionsWrapper.nativeElement.classList.remove("options-wrapper_active")}dragoverOptions(e){e.preventDefault(),this.optionsWrapper.nativeElement.classList.add("options-wrapper_active")}dragOptionsStart(e){e.classList.remove("swap_option"),this.startValue=e.innerText}getUserResult(e,r){this.exerciseDataService.subject.next({Type:"DragOptionsToComparison",Order:this.Order,Data:{Order:r,Value:e}})}}return e.\u0275fac=function(r){return new(r||e)(a.Qb(s.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-drag-options-to-comparison"]],viewQuery:function(e,r){var t;1&e&&a.Ac(c,!0),2&e&&a.rc(t=a.fc())&&(r.optionsWrapper=t.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[a.Ab],decls:6,vars:5,consts:[[1,"drag-comparison-wrapper","d-flex","justify-content-between"],["class","drag-comparison__items-column d-flex flex-column justify-content-between",4,"ngFor","ngForOf"],[1,"options-wrapper","big-f-size","d-flex","mt-5",3,"dragover","dragenter","dragleave"],["optionsWrapper",""],["class","drag-options__option text-center","draggable","true",3,"dragstart","dragenter",4,"ngFor","ngForOf"],[1,"drag-comparison__items-column","d-flex","flex-column","justify-content-between"],["class","drag-comparison__item big-f-size d-flex",3,"ngStyle","comparison","option","empty","correct-exercise-answer","incorrect-exercise-answer","innerHTML","dragenter","dragover","drop","dragleave",4,"ngFor","ngForOf"],[1,"drag-comparison__item","big-f-size","d-flex",3,"ngStyle","innerHTML","dragenter","dragover","drop","dragleave"],["draggable","true",1,"drag-options__option","text-center",3,"dragstart","dragenter"]],template:function(e,r){1&e&&(a.Wb(0,"div",0),a.Cc(1,l,2,1,"div",1),a.Vb(),a.Wb(2,"div",2,3),a.ec("dragover",(function(e){return r.dragoverOptions(e)}))("dragenter",(function(e){return r.dragenter(e)}))("dragleave",(function(){return r.dragleaveOptions()})),a.Dc(4),a.Cc(5,u,2,1,"div",4),a.Vb()),2&e&&(a.Cb(1),a.kc("ngForOf",r.dragOptionsComparisonArray),a.Cb(1),a.Gb("options-wrapper_empty",!r.defaultValuesArray.length),a.Cb(2),a.Fc(" ",r.defaultValuesArray.length?null:"\xa0"," "),a.Cb(1),a.kc("ngForOf",r.defaultValuesArray))},directives:[o.i,o.k],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.drag-comparison-wrapper[_ngcontent-%COMP%]{width:75%;margin:auto}.drag-comparison__item[_ngcontent-%COMP%]{margin:1vh 0}.comparison[_ngcontent-%COMP%]{background:#11afa9;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;border-radius:10vh;width:10vw;text-align:center;display:flex;align-items:center;justify-content:center;line-height:1;padding:1vw 2vw}.option_has-option[_ngcontent-%COMP%]{background:#ff712c;color:#fff}.option_has-option[_ngcontent-%COMP%]:before{display:none!important}.option[_ngcontent-%COMP%]{position:relative;min-width:25vw;border-radius:10vh;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;display:flex;align-items:center;justify-content:center;line-height:1;padding:1vw 2vw}.empty[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab;border-radius:10vh}.options-wrapper[_ngcontent-%COMP%]{border-radius:5vh;border:.2vw dashed transparent;padding:.1vh 1vw}.options-wrapper_empty[_ngcontent-%COMP%]{padding:1.5vh 1vw}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]{margin:1vh 0}.options-wrapper[_ngcontent-%COMP%]   .drag-options__option[_ngcontent-%COMP%]:not(:last-child){margin-right:3%}.swap_option[_ngcontent-%COMP%]{-webkit-animation:swap_option .3s;animation:swap_option .3s}.drag-options__option.drag_active-option[_ngcontent-%COMP%]{animation:swap_option .5s infinite alternate-reverse}.drag-options__option[_ngcontent-%COMP%]:active{opacity:.6}.drag-options__option[_ngcontent-%COMP%]{background:#ff712c;color:#fff;padding:1vw 2vw;line-height:1;cursor:-webkit-grab;cursor:grab;border-radius:10vh;min-width:25%}.swap_option[_ngcontent-%COMP%]{animation:swap_option .5s infinite alternate-reverse}.swap_option[_ngcontent-%COMP%]:before{display:none!important}.options-wrapper.options-wrapper_active[_ngcontent-%COMP%]{border-color:#afabab}@-webkit-keyframes swap_option{0%{background:#fff}to{background:#ff712c}}@keyframes swap_option{0%{background:#fff}to{background:#ff712c}}']}),e})(),f=(()=>{class e{constructor(e){this.componentFactoryResolver=e}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(g)}}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(r){return new(r||e)(a.ac(a.j))},imports:[[o.b,n.n]]}),e})()}}]);