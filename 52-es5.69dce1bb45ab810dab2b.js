function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{nOHG:function(t,e,i){"use strict";i.r(e),i.d(e,"MultipleChoicesProblemComponent",(function(){return h})),i.d(e,"MultipleChoicesProblemModule",(function(){return b}));var n=i("ofXK"),s=i("3Pt+"),r=i("fXoL"),o=i("XCOF"),a=["multiChoiseInputWrapper"];function l(t,e){if(1&t&&r.Rb(0,"p",11),2&t){var i=r.hc(2);r.Gb("text-center",!i.IsHorizontal),r.kc("innerHTML",i.Label,r.wc)}}function u(t,e){if(1&t){var i=r.Xb();r.Wb(0,"div",12),r.ec("click",(function(t){r.vc(i);var n=e.index,s=r.hc(2);return[s.choise(n),s.showInput(t.target)]})),r.Dc(1),r.Vb()}if(2&t){var n=e.$implicit;r.Gb("choise",n.isActive&&null===n.correctValue.IsCorrect)("correct-exercise-answer",n.correctValue.IsCorrect)("incorrect-exercise-answer",null!==n.correctValue.IsCorrect&&!n.correctValue.IsCorrect),r.Cb(1),r.Fc(" ",n.value," ")}}function c(t,e){if(1&t&&(r.Wb(0,"div",7),r.Cc(1,l,1,3,"p",8),r.Wb(2,"div",9),r.Cc(3,u,2,7,"div",10),r.Vb(),r.Vb()),2&t){var i=r.hc();r.Cb(1),r.kc("ngIf",i.Label),r.Cb(1),r.Gb("horizontal-wrapper",i.IsHorizontal)("flex-wrap",!i.IsHorizontal),r.Cb(1),r.kc("ngForOf",i.multiChoiseList)}}function p(t,e){1&t&&(r.Wb(0,"div",13),r.Rb(1,"input",14),r.Vb())}var h=function(){var t=function(){function t(e){_classCallCheck(this,t),this.exerciseDataService=e,this.userResultObj={},this.isInputVisible=!1,this.isClose=!1}return _createClass(t,[{key:"ngOnChanges",value:function(){var t=this;if(this.list.sort((function(t,e){return t.Order-e.Order})),!this.isCorrectValues||this.HasMultipleAnswer)if(this.isCorrectValues&&this.HasMultipleAnswer)this.multiChoiseList.forEach((function(e,i){t.list.forEach((function(n){t.userResultObj[i]||n.CorrectValue!==e.value||(e.correctValue.IsCorrect=!1),t.userResultObj[i]&&n.CorrectValue===t.userResultObj[i]&&(e.correctValue.IsCorrect=!0)}))}));else{var e=[];this.list.forEach((function(t){e.push({value:t,isActive:!1,correctValue:{value:null,IsCorrect:null}})})),this.multiChoiseList=e}else{var i={value:null,IsCorrect:null};this.multiChoiseList.forEach((function(e,n){return t.list[n]&&(i.value=t.list[n].CorrectValue,i.IsCorrect=t.list[n].IsCorrect),"number"==typeof t.saveI&&e.value===i.value?(e.correctValue.value=!0,void(e.correctValue.IsCorrect=!0)):"number"==typeof t.saveI&&t.multiChoiseList[t.saveI].value!==i.value?(t.multiChoiseList[t.saveI].correctValue.IsCorrect=!1,void(t.multiChoiseList[t.saveI].isActive=!1)):"number"!=typeof t.saveI&&e.value===i.value?(e.correctValue.value=!1,e.correctValue.IsCorrect=!1,void(t.saveI=null)):void 0}))}}},{key:"choise",value:function(t){if(this.HasMultipleAnswer){this.multiChoiseList[t].isActive=!this.multiChoiseList[t].isActive,this.multiChoiseList[t].isActive?this.userResultObj[t]=this.list[t]:delete this.userResultObj[t];var e=0;for(var i in this.userResultObj)this.userResultObj.hasOwnProperty(i)&&this.getUserResult(this.userResultObj[i],++e)}else"number"==typeof this.saveI&&(this.multiChoiseList[this.saveI].isActive=!1),this.saveI=t,this.multiChoiseList[t].isActive=!this.multiChoiseList[t].isActive,this.userResultObj={},this.userResultObj[t]=this.list[t],this.getUserResult(this.userResultObj[t],1)}},{key:"showInput",value:function(t){this.isInputVisible=!0,this.isClose=!1,this.multiChoiseInputWrapper.nativeElement.style.bottom="calc(".concat(t.offsetTop,"px + 4em)"),this.multiChoiseInputWrapper.nativeElement.style.left=t.offsetLeft+"px",this.multiChoiseInputWrapper.nativeElement.style.visibility="visible",this.multiChoiseInputWrapper.nativeElement.classList.add("animate-open-input"),this.multiChoiseInputWrapper.nativeElement.classList.remove("animate-close-input")}},{key:"getAnswer",value:function(t){var e=this;this.multiChoiseInputWrapper.nativeElement.classList.remove("animate-open-input"),this.isInputVisible=!1,t.classList.add("multi-choise-list__input-button--after-answer"),this.isClose&&(this.multiChoiseInputWrapper.nativeElement.classList.add("animate-close-input"),setTimeout((function(){e.multiChoiseInputWrapper.nativeElement.style.visibility="hidden",t.classList.remove("multi-choise-list__input-button--after-answer"),e.isClose=!1}),300)),this.isClose=!0}},{key:"getUserResult",value:function(t,e){return this.exerciseDataService.subject.next({Type:"Multiple Choices",Order:this.Order,Data:{Order:e,Value:t}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(o.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-multiple-choices-problem"]],viewQuery:function(t,e){var i;1&t&&r.Hc(a,!0),2&t&&r.rc(i=r.fc())&&(e.multiChoiseInputWrapper=i.first)},inputs:{isCorrectValues:"isCorrectValues",list:"list",IsHorizontal:"IsHorizontal",Label:"Label",HasMultipleAnswer:"HasMultipleAnswer",Order:"Order"},features:[r.Ab],decls:10,vars:5,consts:[["class","mx-auto big-f-size",4,"ngIf"],[1,"multi-choise-list__answer-input-wrapper","main-f-size"],["multiChoiseInputWrapper",""],[1,"multi-choise-list__answer-input-title"],[1,"d-flex","align-items-center","justify-content-between"],["class","form_input-wrapper multi-choise-list__input-wrapper",4,"ngIf"],[1,"multi-choise-list__input-button",3,"click"],[1,"mx-auto","big-f-size"],["class","multiple-label",3,"text-center","innerHTML",4,"ngIf"],[1,"buttons-wrapper","d-flex","align-content-baseline"],["class","main-navigation-button answer-button big-f-size multiplue_button","appClick","",3,"choise","correct-exercise-answer","incorrect-exercise-answer","click",4,"ngFor","ngForOf"],[1,"multiple-label",3,"innerHTML"],["appClick","",1,"main-navigation-button","answer-button","big-f-size","multiplue_button",3,"click"],[1,"form_input-wrapper","multi-choise-list__input-wrapper"],[1,"form_input","answers__input","form_input-edit-icon","text-center","main-f-size"]],template:function(t,e){1&t&&(r.Cc(0,c,4,6,"div",0),r.Wb(1,"div",1,2),r.Wb(3,"div"),r.Wb(4,"div",3),r.Dc(5),r.Vb(),r.Wb(6,"div",4),r.Cc(7,p,2,0,"div",5),r.Wb(8,"button",6),r.ec("click",(function(t){return e.getAnswer(t.target)})),r.Dc(9," Ok "),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.kc("ngIf",e.multiChoiseList),r.Cb(3),r.Gb("animate-open-input",!e.isInputVisible),r.Cb(2),r.Fc(" ",e.isInputVisible?"Some text":"New text"," "),r.Cb(2),r.kc("ngIf",e.isInputVisible))},directives:[n.j,n.i],styles:['[_nghost-%COMP%]{width:100%}.buttons-wrapper[_ngcontent-%COMP%]{width:70%;margin:auto}.answer-button[_ngcontent-%COMP%]{border:none;background:#11afa9;padding:1vh 1vw;margin:2vh auto}.horizontal-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.horizontal-wrapper[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]{margin:auto}.horizontal-wrapper[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:1.5vw}.horizontal-wrapper.buttons-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 1vw}.choise[_ngcontent-%COMP%]{opacity:.5}.multiplue_button[_ngcontent-%COMP%]{white-space:pre-wrap}.multi-choise-list__answer-input-wrapper[_ngcontent-%COMP%]{background:#a64ac9;padding:1em;border-radius:1em;width:20vw;position:fixed;color:#fff;visibility:hidden}.multi-choise-list__answer-input-wrapper[_ngcontent-%COMP%]:after{content:"";background:url(/assets/Images/tooltips-bg/multiplue-choise-tooltip.svg) no-repeat;background-size:100% 100%;width:4em;height:1.5em;position:absolute;left:15%;bottom:0;transform:translateY(98%)}.multi-choise-list__answer-input-title[_ngcontent-%COMP%]{margin-left:.5em;line-height:1;margin-bottom:.7em}.multi-choise-list__input-wrapper[_ngcontent-%COMP%]{margin-right:1vw}.multi-choise-list__input-button[_ngcontent-%COMP%]{border:none;outline:none;background:#eaddf1;color:#a64ac9;border-radius:.5em;padding:.8vh 1vw;margin-left:auto}.multi-choise-list__input-button--after-answer[_ngcontent-%COMP%]{padding:.8vh 2em}.animate-open-input[_ngcontent-%COMP%]{-webkit-animation:animate-input .3s cubic-bezier(.25,.46,.45,.94) both;animation:animate-input .3s cubic-bezier(.25,.46,.45,.94) both}.animate-close-input[_ngcontent-%COMP%]{-webkit-animation:animate-close-input .3s cubic-bezier(.25,.46,.45,.94) both;animation:animate-close-input .3s cubic-bezier(.25,.46,.45,.94) both}@-webkit-keyframes animate-input{0%{opacity:0}to{opacity:1}}@keyframes animate-input{0%{opacity:0}to{opacity:1}}@-webkit-keyframes animate-close-input{0%{opacity:1}to{opacity:0}}@keyframes animate-close-input{0%{opacity:1}to{opacity:0}}']}),t}(),b=function(){var t=function(){function t(e){_classCallCheck(this,t),this.componentFactoryResolver=e}return _createClass(t,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(h)}}]),t}();return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)(r.ac(r.j))},imports:[[n.b,s.n]]}),t}()}}]);