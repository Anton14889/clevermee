(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"/mRb":function(r,e,t){"use strict";t.r(e),t.d(e,"PaintThePairsComponent",(function(){return m})),t.d(e,"PaintThePairsModule",(function(){return g}));var i=t("ofXK"),o=t("3Pt+"),n=t("fXoL"),a=t("XCOF"),c=t("TznM");const s=["mouseColorElem"],l=["paintPairs"];function p(r,e){if(1&r){const r=n.Xb();n.Wb(0,"div",13),n.Wb(1,"div",14),n.ec("click",(function(t){n.vc(r);const i=e.index,o=e.$implicit,a=n.hc().index,c=n.hc(2);return[c.addPaintPairsColor(t.target,a,i),c.getUserResult(o.value,o.order)]})),n.Dc(2),n.Vb(),n.Vb()}if(2&r){const r=e.$implicit;n.Cb(1),n.Bc("background",r.activeColor.color,n.Jb),n.Gb("paint-pairs__item--active",r.activeColor.color)("correct-exercise-answer",r.IsCorrect)("incorrect-exercise-answer",null!==r.IsCorrect&&!r.IsCorrect),n.Cb(1),n.Fc("",r.value," ")}}function u(r,e){if(1&r&&(n.Wb(0,"div",11),n.Cc(1,p,3,9,"div",12),n.Vb()),2&r){const r=e.$implicit;n.Cb(1),n.kc("ngForOf",r)}}function d(r,e){if(1&r){const r=n.Xb();n.Wb(0,"div",15),n.ec("click",(function(t){n.vc(r);const i=e.index;return n.hc(2).addActiveClass(t.target,i)})),n.Vb()}2&r&&n.Bc("background",e.$implicit.color,n.Jb)}function h(r,e){if(1&r){const r=n.Xb();n.Wb(0,"div",1,2),n.ec("mousemove",(function(e){return n.vc(r),n.hc().mouseColor(e)}))("touchmove",(function(e){return n.vc(r),n.hc().mouseColor(e)})),n.Wb(2,"div",3),n.Cc(3,u,2,1,"div",4),n.Vb(),n.Wb(4,"div",5),n.Wb(5,"div",6),n.Rb(6,"img",7),n.Vb(),n.Cc(7,d,1,2,"div",8),n.Vb(),n.Rb(8,"div",9,10),n.Vb()}if(2&r){const r=n.hc();n.Cb(3),n.kc("ngForOf",r.paintPairsArray),n.Cb(3),n.kc("src",r.imgSrc,n.xc),n.Cb(1),n.kc("ngForOf",r.resultColors),n.Cb(1),n.Bc("background",r.paintColor,n.Jb),n.Gb("mouse-color_border",r.paintColor)}}let m=(()=>{class r{constructor(r,e){this.exerciseDataService=r,this.resourceLoadsService=e,this.answers=[],this.colors=[{color:"#10afaa",bucketImg:"BucketBlue",colorName:"Blue",order:1},{color:"#ff712d",bucketImg:"BucketOrange",colorName:"Orange",order:2},{color:"#a64ac9",bucketImg:"BucketPurple",colorName:"Purple",order:3},{color:"#fccd05",bucketImg:"BucketYellow",colorName:"Yellow",order:4},{color:"#bc8425",bucketImg:"BucketBrown",colorName:"Brown",order:5},{color:"#8497b0",bucketImg:"BucketGray",colorName:"Gray",order:6}],this.imgSrc=e.getExerciseImage(this.colors[0].bucketImg)}ngOnChanges(){if(this.list.sort((r,e)=>r.Order-e.Order),this.isCorrectValues)return void this.list.forEach(r=>{this.paintPairsArray.forEach(e=>{e.forEach(e=>{e.order===r.Order&&(e.CorrectValue=r.CorrectValue,e.IsCorrect=r.IsCorrect)})})});const r=[];this.list.forEach(e=>{"DefaultValue"===e.Metric&&r.push({CorrectValue:null,IsCorrect:null,value:e.Value,order:e.Order,activeColor:{color:"",colorName:""},activeOrder:null})});let e=-1;const t=[];r.forEach((i,o)=>{r.length<10?o%3==0?(t.push([i]),e++):t[e].push(i):o%4==0?(t.push([i]),e++):t[e].push(i)});const i=[];let o=r.length/2;this.colors.forEach(r=>{o>0&&i.push(r),o--}),this.resultColors=i,this.paintPairsArray=t}ngAfterViewInit(){const r=document.getElementsByClassName("paint-pairs__row");let e=0;Array.from(r).forEach(r=>{const t=r.getBoundingClientRect().height;t>e&&(e=t)}),Array.from(r).forEach(r=>{r.style.height=e+"px"})}addActiveClass(r,e){const t=document.getElementsByClassName("paint-pairs__color-picker");Array.from(t).forEach(r=>{r.classList.remove("paint-pairs__color-picker--active")}),r.classList.add("paint-pairs__color-picker--active"),this.imgSrc=this.resourceLoadsService.getExerciseImage(this.colors[e].bucketImg),this.paintColor=this.colors[e].color,this.colorOrder=e+1,("ontouchstart"in window||navigator.msMaxTouchPoints)&&(this.mouseColorElem.nativeElement.style.display="none")}addPaintPairsColor(r,e,t){this.paintColor&&this.resultColors.forEach(r=>{r.color===this.paintColor&&(this.paintPairsArray[e][t].activeColor.color=r.color,this.paintPairsArray[e][t].activeColor.colorName=r.colorName,this.paintPairsArray[e][t].activeOrder=r.order)})}mouseColor(r){if(r.clientX>this.paintPairs.nativeElement.getBoundingClientRect().right)return;const e=r.clientX-this.paintPairs.nativeElement.getBoundingClientRect().left,t=r.clientY-this.paintPairs.nativeElement.getBoundingClientRect().top,i=this.mouseColorElem.nativeElement.getBoundingClientRect().width;this.mouseColorElem.nativeElement.style.left=e+i+"px",this.mouseColorElem.nativeElement.style.top=t+"px"}getUserResult(r,e){const t={Type:"PaintThePairs",Order:this.Order,Data:{Order:null,Value:null}},i={itemValue:r,itemOrder:e};2===this.answers.length&&(this.answers=[]),this.answers.push(i),2===this.answers.length&&(this.answers.sort((r,e)=>r.itemOrder-e.itemOrder),t.Data.Order=this.answers[0].itemOrder,t.Data.Value=this.answers[1].itemValue,this.exerciseDataService.subject.next(t),t.Data.Order=this.answers[1].itemOrder,t.Data.Value=this.answers[0].itemValue,this.exerciseDataService.subject.next(t))}}return r.\u0275fac=function(e){return new(e||r)(n.Qb(a.a),n.Qb(c.a))},r.\u0275cmp=n.Kb({type:r,selectors:[["app-paint-the-pairs"]],viewQuery:function(r,e){var t;1&r&&(n.Hc(s,!0),n.Hc(l,!0)),2&r&&(n.rc(t=n.fc())&&(e.mouseColorElem=t.first),n.rc(t=n.fc())&&(e.paintPairs=t.first))},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[n.Ab],decls:1,vars:1,consts:[["class","paint-pairs",3,"mousemove","touchmove",4,"ngIf"],[1,"paint-pairs",3,"mousemove","touchmove"],["paintPairs",""],[1,"paint-pairs__wrapper"],["class","paint-pairs__row d-flex",4,"ngFor","ngForOf"],[1,"paint-pairs__color-picker-wrapper","d-flex","justify-content-between"],[1,"paint-pairs__bucket-img-wrapper"],[1,"paint-pairs__bucket-img",3,"src"],["class","paint-pairs__color-picker",3,"background","click",4,"ngFor","ngForOf"],[1,"mouse-color"],["mouseColorElem",""],[1,"paint-pairs__row","d-flex"],["class","paint-pairs__item-wrapper",4,"ngFor","ngForOf"],[1,"paint-pairs__item-wrapper"],[1,"paint-pairs__item","secondary-f-size","d-flex","justify-content-center","align-items-center",3,"click"],[1,"paint-pairs__color-picker",3,"click"]],template:function(r,e){1&r&&n.Cc(0,h,10,7,"div",0),2&r&&n.kc("ngIf",e.paintPairsArray)},directives:[i.j,i.i],styles:["[_nghost-%COMP%]{width:100%;margin:auto}.paint-pairs[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.paint-pairs__wrapper[_ngcontent-%COMP%]{margin-bottom:5vh}.paint-pairs__item-wrapper[_ngcontent-%COMP%]{width:100%;margin:1vh 0}.paint-pairs__item-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-right:1vw}.paint-pairs__item[_ngcontent-%COMP%]{text-align:center;padding:1vh 4vh;margin:auto;height:100%;background:#d9d9d9;border-radius:10vh;width:100%;cursor:pointer;transition:background .2s}.paint-pairs__item--active[_ngcontent-%COMP%]{color:#fff}.paint-pairs__color-picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#dad8d9;padding:.5vw 1.5vw;border-radius:10vh;margin:auto}.paint-pairs__color-picker[_ngcontent-%COMP%]{width:2.5vw;height:2.5vw;border-radius:50%;cursor:pointer}.paint-pairs__color-picker[_ngcontent-%COMP%]:not(:last-child){margin-right:1vw}.paint-pairs__color-picker--active[_ngcontent-%COMP%]{border:.3vw solid #4d4d4d}.paint-pairs__bucket-img[_ngcontent-%COMP%]{width:100%;height:100%}.paint-pairs__bucket-img-wrapper[_ngcontent-%COMP%], .paint-pairs__color-picker[_ngcontent-%COMP%]{width:2.5vw;height:2.5vw;margin-right:1vw}.mouse-color[_ngcontent-%COMP%]{padding:1vh;position:absolute}.mouse-color_border[_ngcontent-%COMP%]{border:.1vw solid #fff}"]}),r})(),g=(()=>{class r{constructor(r){this.componentFactoryResolver=r}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(m)}}return r.\u0275mod=n.Ob({type:r}),r.\u0275inj=n.Nb({factory:function(e){return new(e||r)(n.ac(n.j))},imports:[[i.b,o.n]]}),r})()}}]);