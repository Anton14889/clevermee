function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{XouK:function(e,t,n){"use strict";n.r(t),n.d(t,"TreeChartComponent",(function(){return d})),n.d(t,"TreeChartModule",(function(){return p}));var r=n("ofXK"),i=n("3Pt+"),a=n("fXoL"),l=n("XCOF");function c(e,t){if(1&e&&a.Rb(0,"img",9),2&e){var n=a.hc().index,r=a.hc().$implicit;a.Gb("tree-chart_arrow-last",n===r.length-1||n%2!=0)}}function o(e,t){if(1&e){var n=a.Xb();a.Wb(0,"div",6),a.Cc(1,c,1,2,"img",7),a.Wb(2,"input",8),a.ec("input",(function(e){a.vc(n);var r=t.$implicit,i=a.hc(3);return[i.isIcon(e.target),i.getUserResult(e.target.value,r.order)]})),a.Vb(),a.Vb()}if(2&e){var r=t.$implicit,i=t.index,l=a.hc(),o=l.index;a.Gb("last-vertical_line",i===l.$implicit.length-1||i%2!=0),a.Cb(1),a.kc("ngIf",o>0),a.Cb(1),a.Gb("input-disabled",r.defaultValue)("correct-exercise-answer",r.IsCorrect)("incorrect-exercise-answer",null!==r.IsCorrect&&!r.IsCorrect),a.kc("disabled",r.CorrectValue||r.defaultValue)("value",r.CorrectValue||r.defaultValue)}}function s(e,t){1&e&&a.Rb(0,"div",10)}function u(e,t){1&e&&a.Rb(0,"div",10)}function g(e,t){1&e&&a.Rb(0,"div",10)}function h(e,t){if(1&e&&(a.Wb(0,"div",3),a.Cc(1,o,3,11,"div",4),a.Cc(2,s,1,0,"div",5),a.Cc(3,u,1,0,"div",5),a.Cc(4,g,1,0,"div",5),a.Vb()),2&e){var n=t.$implicit,r=t.index,i=a.hc(2);a.Cb(1),a.kc("ngForOf",n),a.Cb(1),a.kc("ngIf",r>0&&n.length%2>0),a.Cb(1),a.kc("ngIf",r>0&&i.treeChartArray[r].length!==i.treeChartArray[r-1].length&&n.length%2==0),a.Cb(1),a.kc("ngIf",r>0&&i.treeChartArray[r].length!==i.treeChartArray[r-1].length&&n.length%2==0)}}function f(e,t){if(1&e&&(a.Wb(0,"div",1),a.Cc(1,h,5,4,"div",2),a.Vb()),2&e){var n=a.hc();a.Cb(1),a.kc("ngForOf",n.treeChartArray)}}var d=function(){var e=function(){function e(t){_classCallCheck(this,e),this.exerciseDataService=t}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;if(this.list.sort((function(e,t){return e.Order-t.Order})),this.isCorrectValues)this.list.forEach((function(t){e.treeChartArray.forEach((function(e){e.forEach((function(e){e.order===t.Order&&(e.CorrectValue=t.CorrectValue,e.IsCorrect=t.IsCorrect)}))}))}));else{var t=[],n=[];this.list.forEach((function(e){"ColumnSize"===e.Metric&&t.push(+e.Value),"DefaultValue"===e.Metric&&n.push({CorrectValue:null,IsCorrect:null,value:e.Value,order:e.Order})}));var r=[],i=0;t.forEach((function(e,t){for(r.push([]);e>0;){var n={CorrectValue:null,IsCorrect:null,value:null,defaultValue:null,order:++i};r[t].push(n),e--}})),r.forEach((function(e){e.forEach((function(e){n.forEach((function(t){e.order===t.order&&(e.defaultValue=t.value)}))}))})),this.treeChartArray=r}}},{key:"getUserResult",value:function(e,t){this.exerciseDataService.subject.next({Type:"TreeChart",Order:this.Order,Data:{Order:t,Value:e}})}},{key:"isIcon",value:function(e){e.value?e.classList.remove("form_input-edit-icon"):e.classList.add("form_input-edit-icon")}},{key:"ngAfterViewInit",value:function(){var e=document.getElementsByClassName("tree-chart__row-wrapper");Array.from(e).forEach((function(t,n){if(0!==n){var r=t.getElementsByClassName("tree-chart_input"),i=t.getElementsByClassName("tree-chart__top-line");if(r.length!==e[n-1].getElementsByClassName("tree-chart_input").length){if(r.length<4){var a=i[0],l=r[0].getBoundingClientRect().left-t.getBoundingClientRect().left,c=r[0].getBoundingClientRect().width/2+l,o=t.getBoundingClientRect().right-r[r.length-1].getBoundingClientRect().right,s=r[r.length-1].getBoundingClientRect().width/2+o;a.style.left=c+"px",a.style.right=s+"px"}if(4===r.length){var u=i[0],g=i[1],h=r[0].getBoundingClientRect().left-t.getBoundingClientRect().left,f=r[0].getBoundingClientRect().width/2+h,d=r[1].getBoundingClientRect().left-t.getBoundingClientRect().left,p=r[1].getBoundingClientRect().width/2+d,C=r[2].getBoundingClientRect().left-t.getBoundingClientRect().left,v=r[2].getBoundingClientRect().width/2+C,_=r[3].getBoundingClientRect().left-t.getBoundingClientRect().left,w=r[3].getBoundingClientRect().width/2+_;u.style.left=f+"px",u.style.width=p-f+"px",g.style.left=v+"px",g.style.width=w-v+"px"}if(e[n-1].getElementsByClassName("tree-chart_input").length>r.length){var m=(r=e[n-1].getElementsByClassName("tree-chart_input"))[0].getBoundingClientRect().left-t.getBoundingClientRect().left,b=r[0].getBoundingClientRect().width/2+m,y=i[0],B=t.getBoundingClientRect().right-r[r.length-1].getBoundingClientRect().right,R=r[r.length-1].getBoundingClientRect().width/2+B;y.style.left=b+"px",y.style.right=R+"px"}if(4===e[n-1].getElementsByClassName("tree-chart_input").length&&e[n+1]&&1!==e[n+1].getElementsByClassName("tree-chart_input").length||4===e[n-1].getElementsByClassName("tree-chart_input").length&&1!==e[n].getElementsByClassName("tree-chart_input").length){var x=i[0],O=i[1],k=r[0].getBoundingClientRect().left-t.getBoundingClientRect().left,V=r[0].getBoundingClientRect().width/2+k,I=r[1].getBoundingClientRect().left-t.getBoundingClientRect().left,E=r[1].getBoundingClientRect().width/2+I,P=r[2].getBoundingClientRect().left-t.getBoundingClientRect().left,M=r[2].getBoundingClientRect().width/2+P,A=r[3].getBoundingClientRect().left-t.getBoundingClientRect().left,N=r[3].getBoundingClientRect().width/2+A;x.style.left=V+"px",x.style.width=E-V+"px",O.style.left=M+"px",O.style.width=N-M+"px"}}}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Qb(l.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-tree-chart"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[a.Ab],decls:1,vars:1,consts:[["class","tree-chart-wrapper",4,"ngIf"],[1,"tree-chart-wrapper"],["class","d-flex mx-auto tree-chart__row-wrapper",4,"ngFor","ngForOf"],[1,"d-flex","mx-auto","tree-chart__row-wrapper"],["class","form_input-wrapper tree-chart_input-wrapper",3,"last-vertical_line",4,"ngFor","ngForOf"],["class","tree-chart__top-line",4,"ngIf"],[1,"form_input-wrapper","tree-chart_input-wrapper"],["src","/assets/Images/OtherImages/small-ex-triangle.svg","class","tree-chart_arrow",3,"tree-chart_arrow-last",4,"ngIf"],["type","text",1,"form_input","form_input-edit-icon","tree-chart_input","text-center","big-f-size",3,"disabled","value","input"],["src","/assets/Images/OtherImages/small-ex-triangle.svg",1,"tree-chart_arrow"],[1,"tree-chart__top-line"]],template:function(e,t){1&e&&a.Cc(0,f,2,1,"div",0),2&e&&a.kc("ngIf",t.treeChartArray)},directives:[r.j,r.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.tree-chart__row-wrapper[_ngcontent-%COMP%]{position:relative;padding:2vh 0 0}.tree-chart__top-line[_ngcontent-%COMP%]{border-bottom:.3vw solid #a64ac9;position:absolute;top:0}.tree-chart__row-wrapper[_ngcontent-%COMP%]:not(:last-child)   .tree-chart_input-wrapper[_ngcontent-%COMP%]:after{content:"";display:block;background:#a64ac9;width:.3vw;height:2.4vh;position:absolute;left:50%;z-index:-1}.tree-chart__row-wrapper[_ngcontent-%COMP%]:not(:first-child)   .tree-chart_input-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;background:#a64ac9;width:.3vw;height:2vh;position:absolute;left:50%;top:-3.7vh;z-index:-1}.tree-chart_input-wrapper[_ngcontent-%COMP%]{max-width:15vw;margin:2vh auto;position:relative}.last-vertical_line[_ngcontent-%COMP%]:after, .last-vertical_line[_ngcontent-%COMP%]:before{right:50%;left:inherit!important}.tree-chart_arrow[_ngcontent-%COMP%]{position:absolute;left:50%;width:1vw;height:2vh;transform:translate(calc(-50% + .15vw),-100%)}.tree-chart_arrow-last[_ngcontent-%COMP%]{transform:translate(calc(-50% - .15vw),-100%)}']}),e}(),p=function(){var e=function(){function e(t){_classCallCheck(this,e),this.componentFactoryResolver=t}return _createClass(e,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(d)}}]),e}();return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)(a.ac(a.j))},imports:[[r.b,i.n]]}),e}()}}]);