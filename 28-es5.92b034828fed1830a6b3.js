function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Ygza:function(e,r,t){"use strict";t.r(r),t.d(r,"DragImagesToSequenceComponent",(function(){return p})),t.d(r,"DragImagesToSequenceModule",(function(){return f}));var n=t("ofXK"),i=t("3Pt+"),a=t("Amjd"),o=t("fXoL"),s=t("XCOF"),c=t("TznM");function u(e,r){if(1&e){var t=o.Xb();o.Wb(0,"div",7),o.Rb(1,"p",8),o.Wb(2,"div",9),o.Wb(3,"img",10),o.ec("dragstart",(function(){o.vc(t);var e=r.$implicit;return o.hc(2).dragstart(e.img)})),o.Vb(),o.Vb(),o.Vb()}if(2&e){var n=r.$implicit,i=o.hc(2);o.Cb(1),o.kc("innerHTML",n.value,o.wc),o.Cb(2),o.kc("src",i.resourceLoadsService.getExerciseImage(n.img),o.xc)}}function g(e,r){if(1&e){var t=o.Xb();o.Wb(0,"img",13),o.ec("dragstart",(function(){o.vc(t);var e=o.hc().index;return o.hc(2).dragOptionsStart(e)})),o.Vb()}if(2&e){var n=o.hc().$implicit,i=o.hc(2);o.kc("src",i.resourceLoadsService.getExerciseImage(n.img),o.xc)}}function l(e,r){if(1&e){var t=o.Xb();o.Wb(0,"div",11),o.ec("dragleave",(function(e){return o.vc(t),o.hc(2).dragleaveOptions(e.target)}))("dragover",(function(e){return o.vc(t),o.hc(2).dragoverOptions(e)}))("dragenter",(function(e){return o.vc(t),o.hc(2).dragenterOptions(e)}))("drop",(function(e){o.vc(t);var n=r.index;return o.hc(2).dropOptions(e.target,n)})),o.Dc(1),o.Cc(2,g,1,1,"img",12),o.Vb()}if(2&e){var n=r.$implicit;o.Gb("drag-options__elem","item"===n.type)("drag-options__symbol","item"!==n.type)("correct-exercise-answer","item"===n.type&&n.IsCorrect)("incorrect-exercise-answer","item"===n.type&&null!==n.IsCorrect&&!n.IsCorrect),o.Cb(1),o.Fc(" ","item"!==n.type?n:"\xa0"," "),o.Cb(1),o.kc("ngIf",n.img)}}function d(e,r){if(1&e&&(o.Wb(0,"div",1),o.Wb(1,"div",2),o.Cc(2,u,4,2,"div",3),o.Vb(),o.Rb(3,"div",4),o.Wb(4,"div",5),o.Cc(5,l,3,10,"div",6),o.Vb(),o.Vb()),2&e){var t=o.hc();o.Cb(2),o.kc("ngForOf",t.dragImagesSequenceArray),o.Cb(1),o.kc("innerHTML",t.Subtitle,o.wc),o.Cb(2),o.kc("ngForOf",t.optionsArray)}}Object(a.polyfill)();var p=function(){var e=function(){function e(r,t){_classCallCheck(this,e),this.exerciseDataService=r,this.resourceLoadsService=t,this.optionsArray=[]}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;if(this.list.sort((function(e,r){return e.Order-r.Order})),this.isCorrectValues)this.list.forEach((function(r){e.optionsArray.forEach((function(e){"item"===e.type&&e.order===r.Order&&(e.IsCorrect=r.IsCorrect,e.img=r.CorrectValue)}))}));else{var r=[],t=[];this.list.forEach((function(n){var i={CorrectValue:null,IsCorrect:null,value:n.Value,img:null,order:n.Order?n.Order:null};"Subtitle"===n.Metric&&(e.Subtitle=n.Value),"ImageName"===n.Metric&&r.push(i),"Sentence"===n.Metric&&t.push(i)}));var n=[];r.forEach((function(e,t){n.push({type:"item",img:null,order:t+1,IsCorrect:null}),t!==r.length-1&&n.push("<")}));var i=[];r.forEach((function(e){t.forEach((function(r){e.order===r.order&&(r.img=e.value,i.push(r))}))})),this.dragImagesSequenceArray=i,this.optionsArray=n}}},{key:"dragstart",value:function(e){this.startImg=e}},{key:"dragOptionsStart",value:function(e){this.startImg=this.optionsArray[e].img,this.saveStartOptionNumber=e}},{key:"dropOptions",value:function(e,r){var t=this;this.optionsArray[r].img=this.startImg,this.saveStartOptionNumber===r||!this.saveStartOptionNumber&&0!==this.saveStartOptionNumber||(this.optionsArray[this.saveStartOptionNumber].img=null,this.saveStartOptionNumber=null),e.classList.remove("drag_active-option"),this.optionsArray.forEach((function(e){t.getUserResult(e.img,e.order)}))}},{key:"dragoverOptions",value:function(e){e.preventDefault()}},{key:"dragenterOptions",value:function(e){e.preventDefault(),e.target.classList.add("drag_active-option")}},{key:"dragleaveOptions",value:function(e){e.classList.remove("drag_active-option")}},{key:"getUserResult",value:function(e,r){this.exerciseDataService.subject.next({Type:"DragImagesToSequence",Order:this.Order,Data:{Order:r,Value:e}})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(o.Qb(s.a),o.Qb(c.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-drag-images-to-sequence"]],inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[o.Ab],decls:1,vars:1,consts:[["class","drag-images-sequence__wrapper d-flex flex-column align-items-center",4,"ngIf"],[1,"drag-images-sequence__wrapper","d-flex","flex-column","align-items-center"],[1,"drag-sequence__wrapper"],["class","drag-sequence-container d-flex align-items-center justify-content-end",4,"ngFor","ngForOf"],[1,"drag-sequence__subtitle","main-f-size","mt-auto",3,"innerHTML"],[1,"options-wrapper","main-f-size","d-flex","flex-wrap","mt-2"],["class","drag-options__option text-center",3,"drag-options__elem","drag-options__symbol","correct-exercise-answer","incorrect-exercise-answer","dragleave","dragover","dragenter","drop",4,"ngFor","ngForOf"],[1,"drag-sequence-container","d-flex","align-items-center","justify-content-end"],[1,"drag-sequence__question","main-f-size",3,"innerHTML"],[1,"drag-sequence__img-wrapper"],["draggable","true",1,"drag-sequence__img",3,"src","dragstart"],[1,"drag-options__option","text-center",3,"dragleave","dragover","dragenter","drop"],["draggable","true","class","options-img",3,"src","dragstart",4,"ngIf"],["draggable","true",1,"options-img",3,"src","dragstart"]],template:function(e,r){1&e&&o.Cc(0,d,6,3,"div",0),2&e&&o.kc("ngIf",r.dragImagesSequenceArray)},directives:[n.j,n.i],styles:['[_nghost-%COMP%]{width:100%;margin:auto}.drag-sequence-container[_ngcontent-%COMP%]{margin:1vh 0}.drag-sequence__img-wrapper[_ngcontent-%COMP%]{border-radius:10vh;margin-left:2vw;width:4vw}.drag-sequence__img[_ngcontent-%COMP%]{width:100%;cursor:-webkit-grab;cursor:grab}.options-img[_ngcontent-%COMP%]{max-width:2.5vw;cursor:-webkit-grab;cursor:grab}.options-wrapper[_ngcontent-%COMP%]{width:100%}.drag-options__symbol[_ngcontent-%COMP%]{background:#11afa9;color:#fff;width:4vw;margin-left:1vw;margin-right:1vw;line-height:1;pointer-events:none;line-height:0}.drag-options__elem[_ngcontent-%COMP%], .drag-options__symbol[_ngcontent-%COMP%]{border-radius:10vh;display:flex;align-items:center;justify-content:center;margin-bottom:1vh}.drag-options__elem[_ngcontent-%COMP%]{position:relative;min-width:100px;width:10vw;padding:1vh 1vw;max-height:100%}.drag-options__elem[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;border:.2vw dashed #afabab;border-radius:10vh;z-index:-1}.drag_active-option[_ngcontent-%COMP%]:before{animation:swap_option .5s infinite alternate-reverse;background:none}@-webkit-keyframes swap_option{0%{opacity:0}to{opacity:1}}@keyframes swap_option{0%{opacity:0}to{opacity:1}}']}),e}(),f=function(){var e=function(){function e(r){_classCallCheck(this,e),this.componentFactoryResolver=r}return _createClass(e,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(p)}}]),e}();return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(r){return new(r||e)(o.ac(o.j))},imports:[[n.b,i.n]]}),e}()}}]);