(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{v3hf:function(t,e,r){"use strict";r.r(e),r.d(e,"TableChainComponent",(function(){return b})),r.d(e,"TableChainModule",(function(){return h}));var n=r("ofXK"),o=r("3Pt+"),i=r("fXoL"),a=r("XCOF");const s=["table"],c=function(t){return{transform:t}};function l(t,e){if(1&t&&(i.Wb(0,"span",11),i.Wb(1,"span",12),i.Dc(2),i.Vb(),i.Vb()),2&t){const t=i.hc().$implicit,e=i.hc(3);i.kc("ngStyle",i.nc(2,c,"translateX("+e.getArrowPosition()+"px)")),i.Cb(2),i.Fc(" ",t.ColumnStep,": ")}}function u(t,e){if(1&t){const t=i.Xb();i.Wb(0,"td",7),i.Wb(1,"div",8),i.Wb(2,"input",9),i.ec("input",(function(r){i.vc(t);const n=e.$implicit,o=i.hc(3);return[o.isIcon(r.target),o.getUserResult(r.target.value,n.Order)]})),i.Vb(),i.Vb(),i.Cc(3,l,3,4,"span",10),i.Vb()}if(2&t){const t=e.$implicit;i.Cb(2),i.Gb("input-disabled",t.defaultValue)("correct-exercise-answer",t.IsCorrect)("incorrect-exercise-answer",null!==t.IsCorrect&&!t.IsCorrect),i.kc("disabled",t.defaultValue)("value",t.defaultValue||t.CorrectValue),i.Cb(1),i.kc("ngIf",t.ColumnStep)}}function d(t,e){if(1&t&&(i.Wb(0,"span",13),i.Wb(1,"span",12),i.Dc(2),i.Vb(),i.Vb()),2&t){const t=i.hc().index,e=i.hc(2);i.Cb(2),i.Fc(" ",e.rowsArrows[t].Value,": ")}}function p(t,e){if(1&t&&(i.Wb(0,"tr"),i.Cc(1,u,4,9,"td",5),i.Cc(2,d,3,1,"span",6),i.Vb()),2&t){const t=e.$implicit,r=e.index,n=i.hc(2);i.Cb(1),i.kc("ngForOf",t),i.Cb(1),i.kc("ngIf",n.rowsArrows[r])}}function f(t,e){if(1&t&&(i.Wb(0,"div",1),i.Wb(1,"table",2,3),i.Cc(3,p,3,2,"tr",4),i.Vb(),i.Vb()),2&t){const t=i.hc();i.Cb(3),i.kc("ngForOf",t.tableArray)}}let b=(()=>{class t{constructor(t){this.exerciseDataService=t,this.tableWidth={1:"35%",2:"35%",3:"55%",4:"77%"},this.tableArray=[],this.rowsArrows=[]}ngOnChanges(){if(this.list.sort((t,e)=>t.Order-e.Order),this.isCorrectValues)return void this.list.forEach(t=>{t.Order--;const e={row:null,column:null};t.Order/this.saveColumns<1?(e.row=0,e.column=t.Order):(e.row=Math.floor(t.Order/this.saveColumns),e.column=t.Order-e.row*this.saveColumns);try{this.tableArray[e.row][e.column].CorrectValue=t.CorrectValue,this.tableArray[e.row][e.column].IsCorrect=t.IsCorrect}catch(r){}});let t,e;const r=[],n=[],o=[],i=[];this.list.forEach(i=>{"ColumnSize"===i.Metric&&(t=i.Value),"RowSize"===i.Metric&&(e=i.Value),"DefaultValue"===i.Metric&&(--i.Order,r.push(i)),"ColumnStep"===i.Metric&&n.push(i),"RowStep"===i.Metric&&o.push(i)});let a=0;o.sort((t,e)=>t.Order-e.Order),this.rowsArrows=o,n.sort((t,e)=>t.Order-e.Order);const s=t;this.saveColumns=s;let c=0;for(;e>0;){const r=[];for(;t>0;){const o={defaultValue:null,ColumnStep:null,CorrectValue:null,IsCorrect:null,Order:++c};1===e&&(n[a]&&n[a].hasOwnProperty("Value")&&(o.ColumnStep=n[a].Value),a++),r.push(o),t--}i.push(r),t=s,e--}const l={row:null,column:null};r.forEach(t=>{t.Order/s<1?(l.row=0,l.column=t.Order):(l.row=Math.floor(t.Order/s),l.column=t.Order-l.row*s);try{i[l.row][l.column].defaultValue=t.Value}catch(e){}}),this.tableArray=i,setTimeout(()=>{this.tableWidth.hasOwnProperty(t)&&(this.table.nativeElement.style.width=this.tableWidth[t]),t<5&&(this.table.nativeElement.style.margin="auto")},0)}getUserResult(t,e){this.exerciseDataService.subject.next({Type:"TableChain",Order:this.Order,Data:{Order:e,Value:t}})}isIcon(t){t.value?t.classList.remove("form_input-edit-icon"):t.classList.add("form_input-edit-icon")}getArrowPosition(){if(this.isCorrectValues)return;const t=window,e=document,r=e.documentElement,n=e.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||n.clientWidth,i=document.querySelector("td").getBoundingClientRect().width;return Math.floor(i-o/100*3.5)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(a.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-table-chain"]],viewQuery:function(t,e){var r;1&t&&i.Hc(s,!0),2&t&&i.rc(r=i.fc())&&(e.table=r.first)},inputs:{isCorrectValues:"isCorrectValues",Order:"Order",list:"list"},features:[i.Ab],decls:1,vars:1,consts:[["class","table-wrapper",4,"ngIf"],[1,"table-wrapper"],[1,"table","ml-auto","main-f-size"],["table",""],[4,"ngFor","ngForOf"],["class","table__td text-center",4,"ngFor","ngForOf"],["class","arrow row main-f-size d-flex flex-column justify-content-center",4,"ngIf"],[1,"table__td","text-center"],[1,"form_input-wrapper"],[1,"form_input","answers__input","form_input-edit-icon","text-center","input-f-size",3,"disabled","value","input"],["class","arrow main-f-size",3,"ngStyle",4,"ngIf"],[1,"arrow","main-f-size",3,"ngStyle"],[1,"text"],[1,"arrow","row","main-f-size","d-flex","flex-column","justify-content-center"]],template:function(t,e){1&t&&i.Cc(0,f,4,1,"div",0),2&t&&i.kc("ngIf",e.tableArray.length)},directives:[n.j,n.i,n.k],styles:['[_nghost-%COMP%]{width:100%;padding:1vw}.table-wrapper[_ngcontent-%COMP%]{margin-top:9vh;padding-left:6vw}.form_input[_ngcontent-%COMP%]{padding:0!important}.table[_ngcontent-%COMP%]{width:90%;position:relative;margin-right:auto}.table__td[_ngcontent-%COMP%]{border:.15vw solid #a64ac9;background:#f4f5cd;padding:1.5vh}.arrow[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;top:-3.3em;z-index:1}.arrow[_ngcontent-%COMP%], .arrow[_ngcontent-%COMP%]:before{display:block;position:absolute}.arrow[_ngcontent-%COMP%]:before{content:"";background:url(/assets/Images/OtherImages/exercise-arrow.png) no-repeat;background-position:bottom;background-size:contain;width:5.5vw;margin:auto;left:0;right:0;top:0;bottom:-100%}.arrow.row[_ngcontent-%COMP%]{top:inherit;left:-6em}.arrow.row[_ngcontent-%COMP%]:before{transform:rotate(90deg) rotateX(180deg) translateX(1.5em);width:3.5em}.arrow.row[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:block;padding-right:5em;transform:translateY(2.5em)}.input-f-size[_ngcontent-%COMP%]{font-size:20px!important}@media screen and (min-width:1680px) and (max-width:1919px){.arrow.row[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-top:.5vh}}@media screen and (min-width:1920px){.input-f-size[_ngcontent-%COMP%]{font-size:calc(1.15vw + .8vh)!important}}']}),t})(),h=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(b)}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(i.j))},imports:[[n.b,o.n]]}),t})()}}]);